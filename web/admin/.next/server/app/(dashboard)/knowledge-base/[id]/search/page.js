(()=>{var e={};e.id=518,e.ids=[518],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},17991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(70260),n=r(28203),i=r(25155),a=r.n(i),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(dashboard)",{children:["knowledge-base",{children:["[id]",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,42449)),"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/knowledge-base/[id]/search/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58426)),"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/knowledge-base/[id]/search/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(dashboard)/knowledge-base/[id]/search/page",pathname:"/knowledge-base/[id]/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29683:(e,t,r)=>{Promise.resolve().then(r.bind(r,42449))},24107:(e,t,r)=>{Promise.resolve().then(r.bind(r,96166))},35668:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},16928:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},98755:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},28638:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},74164:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]])},16873:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},96166:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ed});var s=r(45512),n=r(58009),i=r(79334),a=r(28531),o=r.n(a),l=r(33115),d=r(30191),c=r(35668);let u=(0,r(41680).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var m=r(16873),h=r(28638),p=r(98755),f=r(37239),x=r(39400),v=r(77722),g=r(64590),b=r(78447),y=r(29374),j=r(31412),w=r(29952),N=r(13024),k=r(59018),S=r(66582),R=r(38762);r(55740);var P=Symbol("radix.slottable");function A(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===P}var M=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(n.isValidElement(r)){let e,i;let a=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,o=function(e,t){let r={...t};for(let s in t){let n=e[s],i=t[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...e)=>{let t=i(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...i}:"className"===s&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==n.Fragment&&(o.ref=t?(0,w.t)(t,a):a),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...a}=e,o=n.Children.toArray(i),l=o.find(A);if(l){let e=l.props.children,i=o.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,s.jsx)(t,{...a,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...a}=e,o=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(o,{...a,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),C=r(98351),E=["PageUp","PageDown"],_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],D={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},O="Slider",[K,q,$]=(0,C.N)(O),[z,I]=function(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let s=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return i.scopeName=e,[function(t,i){let a=n.createContext(i),o=r.length;r=[...r,i];let l=t=>{let{scope:r,children:i,...l}=t,d=r?.[e]?.[o]||a,c=n.useMemo(()=>l,Object.values(l));return(0,s.jsx)(d.Provider,{value:c,children:i})};return l.displayName=t+"Provider",[l,function(r,s){let l=s?.[e]?.[o]||a,d=n.useContext(l);if(d)return d;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let n=r(e)[`__scope${s}`];return{...t,...n}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(i,...t)]}(O,[$]),[U,H]=z(O),B=n.forwardRef((e,t)=>{let{name:r,min:i=0,max:a=100,step:o=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[i],value:m,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:f=!1,form:x,...v}=e,g=n.useRef(new Set),b=n.useRef(0),w="horizontal"===l?T:Z,[k=[],S]=(0,N.i)({prop:m,defaultProp:u,onChange:e=>{let t=[...g.current];t[b.current]?.focus(),h(e)}}),R=n.useRef(k);function P(e,t,{commit:r}={commit:!1}){let s=(String(o).split(".")[1]||"").length,n=function(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-i)/o)*o+i,s),l=(0,y.q)(n,[i,a]);S((e=[])=>{var s,n;let i=function(e=[],t,r){let s=[...e];return s[r]=t,s.sort((e,t)=>e-t)}(e,l,t);if(s=i,!(!((n=c*o)>0)||Math.min(...s.slice(0,-1).map((e,t)=>s[t+1]-e))>=n))return e;{b.current=i.indexOf(l);let t=String(i)!==String(e);return t&&r&&p(i),t?i:e}})}return(0,s.jsx)(U,{scope:e.__scopeSlider,name:r,disabled:d,min:i,max:a,valueIndexToChangeRef:b,thumbs:g.current,values:k,orientation:l,form:x,children:(0,s.jsx)(K.Provider,{scope:e.__scopeSlider,children:(0,s.jsx)(K.Slot,{scope:e.__scopeSlider,children:(0,s.jsx)(w,{"aria-disabled":d,"data-disabled":d?"":void 0,...v,ref:t,onPointerDown:(0,j.mK)(v.onPointerDown,()=>{d||(R.current=k)}),min:i,max:a,inverted:f,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),s=Math.min(...r);return r.indexOf(s)}(k,e);P(e,t)},onSlideMove:d?void 0:function(e){P(e,b.current)},onSlideEnd:d?void 0:function(){let e=R.current[b.current];k[b.current]!==e&&p(k)},onHomeKeyDown:()=>!d&&P(i,0,{commit:!0}),onEndKeyDown:()=>!d&&P(a,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let r=E.includes(e.key)||e.shiftKey&&_.includes(e.key),s=b.current;P(k[s]+o*(r?10:1)*t,s,{commit:!0})}}})})})})});B.displayName=O;var[L,F]=z(O,{startEdge:"left",endEdge:"right",size:"width",direction:1}),T=n.forwardRef((e,t)=>{let{min:r,max:i,dir:a,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...m}=e,[h,p]=n.useState(null),f=(0,w.s)(t,e=>p(e)),x=n.useRef(void 0),v=(0,k.jH)(a),g="ltr"===v,b=g&&!o||!g&&o;function y(e){let t=x.current||h.getBoundingClientRect(),s=es([0,t.width],b?[r,i]:[i,r]);return x.current=t,s(e-t.left)}return(0,s.jsx)(L,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,s.jsx)(V,{dir:v,"data-orientation":"horizontal",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=y(e.clientX);l?.(t)},onSlideMove:e=>{let t=y(e.clientX);d?.(t)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:e=>{let t=D[b?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),Z=n.forwardRef((e,t)=>{let{min:r,max:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:c,...u}=e,m=n.useRef(null),h=(0,w.s)(t,m),p=n.useRef(void 0),f=!a;function x(e){let t=p.current||m.current.getBoundingClientRect(),s=es([0,t.height],f?[i,r]:[r,i]);return p.current=t,s(e-t.top)}return(0,s.jsx)(L,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:(0,s.jsx)(V,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=x(e.clientY);o?.(t)},onSlideMove:e=>{let t=x(e.clientY);l?.(t)},onSlideEnd:()=>{p.current=void 0,d?.()},onStepKeyDown:e=>{let t=D[f?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),V=n.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...c}=e,u=H(O,r);return(0,s.jsx)(M.span,{...c,ref:t,onKeyDown:(0,j.mK)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):E.concat(_).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,j.mK)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():n(e)}),onPointerMove:(0,j.mK)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,j.mK)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),a(e))})})}),W="SliderTrack",G=n.forwardRef((e,t)=>{let{__scopeSlider:r,...n}=e,i=H(W,r);return(0,s.jsx)(M.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});G.displayName=W;var X="SliderRange",Y=n.forwardRef((e,t)=>{let{__scopeSlider:r,...i}=e,a=H(X,r),o=F(X,r),l=n.useRef(null),d=(0,w.s)(t,l),c=a.values.length,u=a.values.map(e=>er(e,a.min,a.max)),m=c>1?Math.min(...u):0,h=100-Math.max(...u);return(0,s.jsx)(M.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...i,ref:d,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:h+"%"}})});Y.displayName=X;var Q="SliderThumb",J=n.forwardRef((e,t)=>{let r=q(e.__scopeSlider),[i,a]=n.useState(null),o=(0,w.s)(t,e=>a(e)),l=n.useMemo(()=>i?r().findIndex(e=>e.ref.current===i):-1,[r,i]);return(0,s.jsx)(ee,{...e,ref:o,index:l})}),ee=n.forwardRef((e,t)=>{let{__scopeSlider:r,index:i,name:a,...o}=e,l=H(Q,r),d=F(Q,r),[c,u]=n.useState(null),m=(0,w.s)(t,e=>u(e)),h=!c||l.form||!!c.closest("form"),p=(0,R.X)(c),f=l.values[i],x=void 0===f?0:er(f,l.min,l.max),v=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(i,l.values.length),g=p?.[d.size],b=g?function(e,t,r){let s=e/2,n=es([0,50],[0,s]);return(s-n(t)*r)*r}(g,x,d.direction):0;return n.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),(0,s.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${x}% + ${b}px)`},children:[(0,s.jsx)(K.ItemSlot,{scope:e.__scopeSlider,children:(0,s.jsx)(M.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":f,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:m,style:void 0===f?{display:"none"}:e.style,onFocus:(0,j.mK)(e.onFocus,()=>{l.valueIndexToChangeRef.current=i})})}),h&&(0,s.jsx)(et,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:f},i)]})});J.displayName=Q;var et=n.forwardRef(({__scopeSlider:e,value:t,...r},i)=>{let a=n.useRef(null),o=(0,w.s)(a,i),l=(0,S.Z)(t);return n.useEffect(()=>{let e=a.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==t&&r){let s=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(s)}},[l,t]),(0,s.jsx)(M.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});function er(e,t,r){return(0,y.q)(100/(r-t)*(e-t),[0,100])}function es(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}et.displayName="RadioBubbleInput";var en=r(44195);let ei=n.forwardRef(({className:e,...t},r)=>(0,s.jsxs)(B,{ref:r,className:(0,en.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[(0,s.jsx)(G,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(Y,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(J,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ei.displayName=B.displayName;var ea=r(97093),eo=r(69586),el=r(63146);function ed(){let e=(0,i.useParams)().id,[t,r]=(0,n.useState)(""),[a,y]=(0,n.useState)(5),[j,w]=(0,n.useState)(new Set),{data:N,isLoading:k}=(0,l.I)({queryKey:el.lH.knowledgeBases.detail(e),queryFn:()=>eo.FH.get(`/knowledge-bases/${e}`)}),S=(0,d.n)({mutationFn:({query:t,limit:r})=>eo.FH.post(`/knowledge-bases/${e}/search`,{query:t,limit:r})}),R=()=>{t.trim()&&S.mutate({query:t.trim(),limit:a})},P=e=>{let t=new Set(j);t.has(e)?t.delete(e):t.add(e),w(t)},A=e=>e>=.8?"text-success":e>=.6?"text-warning":"text-muted-foreground",M=e=>e>=.8?"Excellent match":e>=.6?"Good match":e>=.4?"Partial match":"Weak match";return(0,s.jsxs)("div",{className:"flex h-full flex-col",children:[(0,s.jsx)(f.Y,{title:"Test Search"}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:[(0,s.jsxs)(o(),{href:`/knowledge-base/${e}`,className:"mb-4 inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(c.A,{className:"mr-1 h-4 w-4"}),"Back to ",N?.name||"Knowledge Base"]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1fr_2fr]",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(u,{className:"h-5 w-5 text-primary"}),"Semantic Search"]})}),(0,s.jsxs)(g.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Query"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.p,{placeholder:"Enter your question...",value:t,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"===e.key&&R()}}),(0,s.jsx)(x.$,{onClick:R,disabled:S.isPending||!t.trim(),children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Results Limit"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:a})]}),(0,s.jsx)(ei,{value:[a],onValueChange:e=>y(e[0]),min:1,max:20,step:1})]}),N&&(0,s.jsxs)("div",{className:"rounded-lg bg-muted/50 p-3 text-sm",children:[(0,s.jsx)("p",{className:"font-medium",children:N.name}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:[N.item_count," items \xb7 ",N.type]})]})]})]}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsx)(g.ZB,{className:"text-sm",children:"Search Tips"})}),(0,s.jsxs)(g.Wu,{className:"text-sm text-muted-foreground space-y-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Natural language:"})," Ask questions as your customers would."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Scoring:"})," Results are ranked by semantic similarity (0-100%)."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"No embeddings?"})," If items lack embeddings, regenerate them from the knowledge base page."]})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsxs)(g.ZB,{children:["Results",S.data&&(0,s.jsxs)(b.E,{variant:"secondary",className:"ml-2",children:[S.data.count," found"]})]})}),(0,s.jsx)(g.Wu,{children:S.isPending?(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ea.EA,{className:"h-4 w-3/4"}),(0,s.jsx)(ea.EA,{className:"h-16 w-full"})]},t))}):S.data?.results.length===0?(0,s.jsxs)("div",{className:"py-8 text-center text-muted-foreground",children:[(0,s.jsx)(m.A,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),(0,s.jsx)("p",{children:"No results found for your query."}),(0,s.jsx)("p",{className:"text-sm",children:"Try different keywords or check if items have embeddings."})]}):S.data?.results?(0,s.jsx)("div",{className:"space-y-4",children:S.data.results.map((e,t)=>{let r=j.has(e.item.id),n=Math.round(100*e.score);return(0,s.jsx)("div",{className:"rounded-lg border border-border p-4 transition-colors hover:border-primary/30",children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["#",t+1]}),(0,s.jsxs)(b.E,{variant:"outline",className:A(e.score),children:[n,"%"]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:M(e.score)})]}),(0,s.jsx)("h4",{className:"font-medium",children:e.item.question}),(0,s.jsx)("p",{className:`mt-2 text-sm text-muted-foreground ${r?"":"line-clamp-2"}`,children:e.item.answer}),e.item.answer.length>200&&(0,s.jsx)(x.$,{variant:"ghost",size:"sm",className:"mt-1 h-6 px-2",onClick:()=>P(e.item.id),children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"mr-1 h-3 w-3"}),"Show less"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"mr-1 h-3 w-3"}),"Show more"]})}),e.item.keywords&&e.item.keywords.length>0&&(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:e.item.keywords.map(e=>(0,s.jsx)(b.E,{variant:"secondary",className:"text-xs",children:e},e))})]})})},e.item.id)})}):(0,s.jsxs)("div",{className:"py-8 text-center text-muted-foreground",children:[(0,s.jsx)(m.A,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),(0,s.jsx)("p",{children:"Enter a query to test semantic search."}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"This uses vector embeddings to find semantically similar answers."})]})})]})})]})]})]})}},37239:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c});var s=r(45512),n=r(16873),i=r(74164),a=r(16928),o=r(39400),l=r(3271),d=r(53863);function c({title:e}){let t=(0,d.U4)(),r=(0,d.j_)(e=>e.setCommandPaletteOpen);return(0,s.jsxs)("header",{className:"flex h-16 items-center justify-between border-b border-border bg-card px-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:e&&(0,s.jsx)("h1",{className:"text-xl font-semibold text-foreground",children:e})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(o.$,{variant:"outline",className:"hidden w-64 justify-start text-muted-foreground lg:flex",onClick:()=>r(!0),children:[(0,s.jsx)(n.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Search..."}),(0,s.jsxs)("kbd",{className:"ml-auto flex h-5 items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-3 w-3"}),"K"]})]}),(0,s.jsx)(l.S9,{content:"Search (Cmd+K)",children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>r(!0),children:(0,s.jsx)(n.A,{className:"h-5 w-5"})})}),(0,s.jsx)(l.S9,{content:"Notifications",children:(0,s.jsxs)(o.$,{variant:"ghost",size:"icon",className:"relative",children:[(0,s.jsx)(a.A,{className:"h-5 w-5"}),t>0&&(0,s.jsx)("span",{className:"absolute right-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-destructive text-[10px] font-bold text-white",children:t>9?"9+":t})]})})]})]})}},64590:(e,t,r)=>{"use strict";r.d(t,{BT:()=>u,Wu:()=>m,ZB:()=>c,Zp:()=>l,aR:()=>d});var s=r(45512),n=r(58009),i=r(21643),a=r(44195);let o=(0,i.F)("rounded-lg border bg-card text-card-foreground",{variants:{variant:{default:"border-border shadow-sm",terminal:"terminal-card",elevated:"border-border shadow-lg",ghost:"border-transparent bg-transparent",glow:"border-primary/30 glow-primary"}},defaultVariants:{variant:"default"}}),l=n.forwardRef(({className:e,variant:t,...r},n)=>(0,s.jsx)("div",{ref:n,className:(0,a.cn)(o({variant:t}),e),...r}));l.displayName="Card";let d=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let c=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h3",{ref:r,className:(0,a.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let u=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));u.displayName="CardDescription";let m=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...t}));m.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},77722:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(45512),n=r(58009),i=r(21643),a=r(44195);let o=(0,i.F)("flex w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-input",terminal:"border-primary/50 bg-background font-mono focus:border-primary",error:"border-destructive focus-visible:ring-destructive"},inputSize:{default:"h-10",sm:"h-9 text-xs",lg:"h-11"}},defaultVariants:{variant:"default",inputSize:"default"}}),l=n.forwardRef(({className:e,variant:t,inputSize:r,type:n,error:i,leftIcon:l,rightIcon:d,...c},u)=>{let m=i?"error":t;return l||d?(0,s.jsxs)("div",{className:"relative",children:[l&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:l}),(0,s.jsx)("input",{type:n,className:(0,a.cn)(o({variant:m,inputSize:r}),l&&"pl-10",d&&"pr-10",e),ref:u,...c}),d&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:d})]}):(0,s.jsx)("input",{type:n,className:(0,a.cn)(o({variant:m,inputSize:r,className:e})),ref:u,...c})});l.displayName="Input"},97093:(e,t,r)=>{"use strict";r.d(t,{EA:()=>i});var s=r(45512),n=r(44195);function i({className:e,...t}){return(0,s.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",e),...t})}},42449:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/knowledge-base/[id]/search/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/knowledge-base/[id]/search/page.tsx","default")},29374:(e,t,r)=>{"use strict";function s(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{q:()=>s})},59018:(e,t,r)=>{"use strict";r.d(t,{jH:()=>i});var s=r(58009);r(45512);var n=s.createContext(void 0);function i(e){let t=s.useContext(n);return e||t||"ltr"}},66582:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(58009);function n(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},30191:(e,t,r)=>{"use strict";r.d(t,{n:()=>c});var s=r(58009),n=r(66141),i=r(81432),a=r(40007),o=r(59529),l=class extends a.Q{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){let e=this.#r?.state??(0,n.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.jG.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,t,r,s)}catch(e){Promise.reject(e)}try{this.#s.onSettled?.(e.data,null,t,r,s)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,t,r,s)}catch(e){Promise.reject(e)}try{this.#s.onSettled?.(void 0,e.error,t,r,s)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#t)})})}},d=r(64186);function c(e,t){let r=(0,d.jE)(t),[n]=s.useState(()=>new l(r,e));s.useEffect(()=>{n.setOptions(e)},[n,e]);let a=s.useSyncExternalStore(s.useCallback(e=>n.subscribe(i.jG.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),c=s.useCallback((e,t)=>{n.mutate(e,t).catch(o.lQ)},[n]);if(a.error&&(0,o.GU)(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:c,mutateAsync:a.mutate}}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[705,881,904,115,660,359],()=>r(17991));module.exports=s})();