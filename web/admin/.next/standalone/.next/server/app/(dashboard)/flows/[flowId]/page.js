(()=>{var e={};e.id=386,e.ids=[386],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43355:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var o=n(70260),r=n(28203),i=n(25155),a=n.n(i),s=n(67292),l={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);n.d(t,l);let d=["",{children:["(dashboard)",{children:["flows",{children:["[flowId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,7477)),"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/flows/[flowId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,58426)),"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,41485,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,71354)),"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/flows/[flowId]/page.tsx"],u={require:n,loadChunk:()=>Promise.resolve()},h=new o.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(dashboard)/flows/[flowId]/page",pathname:"/flows/[flowId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},17629:(e,t,n)=>{Promise.resolve().then(n.bind(n,7477))},29245:(e,t,n)=>{Promise.resolve().then(n.bind(n,28162))},35668:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},86235:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},81259:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},4339:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},15607:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},22632:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]])},61594:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},87798:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},26658:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});let o=(0,n(41680).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},28162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>iF});var o,r,i,a,s,l,d,c,u,h=n(45512),f=n(58009),p=n(79334),m=n(64186),g=n(33115),x=n(30191),y=n(35668),v=n(22632),b=n(86235),w=n(81259),N=n(4339),_=n(41680);let j=(0,_.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var S=n(39400),C=n(78447),k=n(97093),M=n(69586),A=n(63146),E={value:()=>{}};function P(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw Error("illegal type: "+e);o[e]=[]}return new I(o)}function I(e){this._=e}function $(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=E,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}function R(){}function D(e){return null==e?R:function(){return this.querySelector(e)}}function O(){return[]}function z(e){return null==e?O:function(){return this.querySelectorAll(e)}}function L(e){return function(){return this.matches(e)}}function B(e){return function(t){return t.matches(e)}}I.prototype=P.prototype={constructor:I,on:function(e,t){var n,o=this._,r=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!o.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((n=(e=r[i]).type)&&(n=function(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}(o[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<a;)if(n=(e=r[i]).type)o[n]=$(o[n],e.name,t);else if(null==t)for(n in o)o[n]=$(o[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new I(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(o=this._[e],i=0,n=o.length;i<n;++i)o[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};var H=Array.prototype.find;function T(){return this.firstElementChild}var V=Array.prototype.filter;function F(){return Array.from(this.children)}function q(e){return Array(e.length)}function X(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Y(e,t,n,o,r,i){for(var a,s=0,l=t.length,d=i.length;s<d;++s)(a=t[s])?(a.__data__=i[s],o[s]=a):n[s]=new X(e,i[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function Z(e,t,n,o,r,i,a){var s,l,d,c=new Map,u=t.length,h=i.length,f=Array(u);for(s=0;s<u;++s)(l=t[s])&&(f[s]=d=a.call(l,l.__data__,s,t)+"",c.has(d)?r[s]=l:c.set(d,l));for(s=0;s<h;++s)d=a.call(e,i[s],s,i)+"",(l=c.get(d))?(o[s]=l,l.__data__=i[s],c.delete(d)):n[s]=new X(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(f[s])===l&&(r[s]=l)}function W(e){return e.__data__}function K(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}X.prototype={constructor:X,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var U="http://www.w3.org/1999/xhtml";let Q={svg:"http://www.w3.org/2000/svg",xhtml:U,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function G(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Q.hasOwnProperty(t)?{space:Q[t],local:e}:e}function J(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ee(e,t){return e.style.getPropertyValue(t)||J(e).getComputedStyle(e,null).getPropertyValue(t)}function et(e){return e.trim().split(/^|\s+/)}function en(e){return e.classList||new eo(e)}function eo(e){this._node=e,this._names=et(e.getAttribute("class")||"")}function er(e,t){for(var n=en(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ei(e,t){for(var n=en(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function ea(){this.textContent=""}function es(){this.innerHTML=""}function el(){this.nextSibling&&this.parentNode.appendChild(this)}function ed(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ec(e){var t=G(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===U&&t.documentElement.namespaceURI===U?t.createElement(e):t.createElementNS(n,e)}})(t)}function eu(){return null}function eh(){var e=this.parentNode;e&&e.removeChild(this)}function ef(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function em(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,i=t.length;o<i;++o)(n=t[o],e.type&&n.type!==e.type||n.name!==e.name)?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function eg(e,t,n){return function(){var o,r=this.__on,i=function(e){t.call(this,e,this.__data__)};if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function ex(e,t,n){var o=J(e),r=o.CustomEvent;"function"==typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}eo.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ey=[null];function ev(e,t){this._groups=e,this._parents=t}function eb(){return new ev([[document.documentElement]],ey)}ev.prototype=eb.prototype={constructor:ev,select:function(e){"function"!=typeof e&&(e=D(e));for(var t=this._groups,n=t.length,o=Array(n),r=0;r<n;++r)for(var i,a,s=t[r],l=s.length,d=o[r]=Array(l),c=0;c<l;++c)(i=s[c])&&(a=e.call(i,i.__data__,c,s))&&("__data__"in i&&(a.__data__=i.__data__),d[c]=a);return new ev(o,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=z(e);for(var n=this._groups,o=n.length,r=[],i=[],a=0;a<o;++a)for(var s,l=n[a],d=l.length,c=0;c<d;++c)(s=l[c])&&(r.push(e.call(s,s.__data__,c,l)),i.push(s));return new ev(r,i)},selectChild:function(e){var t;return this.select(null==e?T:(t="function"==typeof e?e:B(e),function(){return H.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?F:(t="function"==typeof e?e:B(e),function(){return V.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=L(e));for(var t=this._groups,n=t.length,o=Array(n),r=0;r<n;++r)for(var i,a=t[r],s=a.length,l=o[r]=[],d=0;d<s;++d)(i=a[d])&&e.call(i,i.__data__,d,a)&&l.push(i);return new ev(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,W);var n=t?Z:Y,o=this._parents,r=this._groups;"function"!=typeof e&&(y=e,e=function(){return y});for(var i=r.length,a=Array(i),s=Array(i),l=Array(i),d=0;d<i;++d){var c=o[d],u=r[d],h=u.length,f="object"==typeof(x=e.call(c,c&&c.__data__,d,o))&&"length"in x?x:Array.from(x),p=f.length,m=s[d]=Array(p),g=a[d]=Array(p);n(c,u,m,g,l[d]=Array(h),f,t);for(var x,y,v,b,w=0,N=0;w<p;++w)if(v=m[w]){for(w>=N&&(N=w+1);!(b=g[N])&&++N<p;);v._next=b||null}}return(a=new ev(a,o))._enter=s,a._exit=l,a},enter:function(){return new ev(this._enter||this._groups.map(q),this._parents)},exit:function(){return new ev(this._exit||this._groups.map(q),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,i=this.exit();return"function"==typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),s=Array(r),l=0;l<a;++l)for(var d,c=n[l],u=o[l],h=c.length,f=s[l]=Array(h),p=0;p<h;++p)(d=c[p]||u[p])&&(f[p]=d);for(;l<r;++l)s[l]=n[l];return new ev(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],i=r.length-1,a=r[i];--i>=0;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=K);for(var n=this._groups,o=n.length,r=Array(o),i=0;i<o;++i){for(var a,s=n[i],l=s.length,d=r[i]=Array(l),c=0;c<l;++c)(a=s[c])&&(d[c]=a);d.sort(t)}return new ev(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,i=t[n],a=0,s=i.length;a<s;++a)(r=i[a])&&e.call(r,r.__data__,a,i);return this},attr:function(e,t){var n=G(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):ee(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=et(e+"");if(arguments.length<2){for(var o=en(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?er:ei)(this,e)}}:t?function(e){return function(){er(this,e)}}:function(e){return function(){ei(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?ea:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?es:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(el)},lower:function(){return this.each(ed)},append:function(e){var t="function"==typeof e?e:ec(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:ec(e),o=null==t?eu:"function"==typeof t?t:D(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function(){return this.each(eh)},clone:function(e){return this.select(e?ep:ef)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var l,d=0,c=s.length;d<c;++d)for(o=0,l=s[d];o<a;++o)if((r=i[o]).type===l.type&&r.name===l.name)return l.value}return}for(o=0,s=t?eg:em;o<a;++o)this.each(s(i[o],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return ex(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return ex(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],i=0,a=r.length;i<a;++i)(o=r[i])&&(yield o)}};function ew(e){return((e=Math.exp(e))+1/e)/2}(function(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:a,y:s,dx:l,dy:d,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:c}})}).prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},function e(t,n,o){function r(e,r){var i,a,s=e[0],l=e[1],d=e[2],c=r[0],u=r[1],h=r[2],f=c-s,p=u-l,m=f*f+p*p;if(m<1e-12)a=Math.log(h/d)/t,i=function(e){return[s+e*f,l+e*p,d*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),x=(h*h-d*d+o*m)/(2*d*n*g),y=(h*h-d*d-o*m)/(2*h*n*g),v=Math.log(Math.sqrt(x*x+1)-x);a=(Math.log(Math.sqrt(y*y+1)-y)-v)/t,i=function(e){var o,r,i=e*a,c=ew(v),u=d/(n*g)*(c*(((o=Math.exp(2*(o=t*i+v)))-1)/(o+1))-((r=Math.exp(r=v))-1/r)/2);return[s+u*f,l+u*p,d*c/ew(t*i+v)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4);var eN,e_,ej=0,eS=0,eC=0,ek=0,eM=0,eA=0,eE="object"==typeof performance&&performance.now?performance:Date,eP="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eI(){return eM||(eP(e$),eM=eE.now()+eA)}function e$(){eM=0}function eR(){this._call=this._time=this._next=null}function eD(e,t,n){var o=new eR;return o.restart(e,t,n),o}function eO(){eM=(ek=eE.now())+eA,ej=eS=0;try{!function(){eI(),++ej;for(var e,t=eN;t;)(e=eM-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ej}()}finally{ej=0,function(){for(var e,t,n=eN,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:eN=t);e_=e,eL(o)}(),eM=0}}function ez(){var e=eE.now(),t=e-ek;t>1e3&&(eA-=t,ek=e)}function eL(e){!ej&&(eS&&(eS=clearTimeout(eS)),e-eM>24?(e<1/0&&(eS=setTimeout(eO,e-eE.now()-eA)),eC&&(eC=clearInterval(eC))):(eC||(ek=eE.now(),eC=setInterval(ez,1e3)),ej=1,eP(eO)))}function eB(e,t,n){var o=new eR;return t=null==t?0:+t,o.restart(n=>{o.stop(),e(n+t)},t,n),o}eR.prototype=eD.prototype={constructor:eR,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?eI():+n)+(null==t?0:+t),this._next||e_===this||(e_?e_._next=this:eN=this,e_=this),this._call=e,this._time=n,eL()},stop:function(){this._call&&(this._call=null,this._time=1/0,eL())}};var eH=P("start","end","cancel","interrupt"),eT=[];function eV(e,t,n,o,r,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};(function(e,t,n){var o,r=e.__transition;function i(l){var d,c,u,h;if(1!==n.state)return s();for(d in r)if((h=r[d]).name===n.name){if(3===h.state)return eB(i);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(eB(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(d=0,n.state=3,o=Array(u=n.tween.length),c=-1;d<u;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function a(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=o.length;++i<a;)o[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var o in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=eD(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)})(e,n,{name:t,index:o,group:r,on:eH,tween:eT,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function eF(e,t){var n=eX(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function eq(e,t){var n=eX(e,t);if(n.state>3)throw Error("too late; already running");return n}function eX(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}var eY=n(76820),eZ=180/Math.PI,eW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eK(e,t,n,o,r,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),e*o<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*eZ,skewX:Math.atan(l)*eZ,scaleX:a,scaleY:s}}function eU(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(i,a){var s,l,d,c,u=[],h=[];return i=e(i),a=e(a),function(e,o,r,i,a,s){if(e!==r||o!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:(0,eY.A)(e,r)},{i:l-2,x:(0,eY.A)(o,i)})}else(r||i)&&a.push("translate("+r+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,u,h),(s=i.rotate)!==(l=a.rotate)?(s-l>180?l+=360:l-s>180&&(s+=360),h.push({i:u.push(r(u)+"rotate(",null,o)-2,x:(0,eY.A)(s,l)})):l&&u.push(r(u)+"rotate("+l+o),(d=i.skewX)!==(c=a.skewX)?h.push({i:u.push(r(u)+"skewX(",null,o)-2,x:(0,eY.A)(d,c)}):c&&u.push(r(u)+"skewX("+c+o),function(e,t,n,o,i,a){if(e!==n||t!==o){var s=i.push(r(i)+"scale(",null,",",null,")");a.push({i:s-4,x:(0,eY.A)(e,n)},{i:s-2,x:(0,eY.A)(t,o)})}else(1!==n||1!==o)&&i.push(r(i)+"scale("+n+","+o+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,h),i=a=null,function(e){for(var t,n=-1,o=h.length;++n<o;)u[(t=h[n]).i]=t.x(e);return u.join("")}}}var eQ=eU(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eW:eK(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),eG=eU(function(e){return null==e?eW:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),e=o.transform.baseVal.consolidate())?eK((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):eW},", ",")",")");function eJ(e,t,n){var o=e._id;return e.each(function(){var e=eq(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return eX(e,o).value[t]}}var e0=n(89453),e1=n(20673),e2=n(89224);function e3(e,t){var n;return("number"==typeof t?eY.A:t instanceof e0.Ay?e1.Ay:(n=(0,e0.Ay)(t))?(t=n,e1.Ay):e2.A)(e,t)}var e4=eb.prototype.constructor;function e5(e){return function(){this.style.removeProperty(e)}}var e6=0;function e7(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}var e9=eb.prototype;e7.prototype=(function(e){return eb().transition(e)}).prototype={constructor:e7,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=D(e));for(var o=this._groups,r=o.length,i=Array(r),a=0;a<r;++a)for(var s,l,d=o[a],c=d.length,u=i[a]=Array(c),h=0;h<c;++h)(s=d[h])&&(l=e.call(s,s.__data__,h,d))&&("__data__"in s&&(l.__data__=s.__data__),u[h]=l,eV(u[h],t,n,h,u,eX(s,n)));return new e7(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=z(e));for(var o=this._groups,r=o.length,i=[],a=[],s=0;s<r;++s)for(var l,d=o[s],c=d.length,u=0;u<c;++u)if(l=d[u]){for(var h,f=e.call(l,l.__data__,u,d),p=eX(l,n),m=0,g=f.length;m<g;++m)(h=f[m])&&eV(h,t,n,m,f,p);i.push(f),a.push(l)}return new e7(i,a,t,n)},selectChild:e9.selectChild,selectChildren:e9.selectChildren,filter:function(e){"function"!=typeof e&&(e=L(e));for(var t=this._groups,n=t.length,o=Array(n),r=0;r<n;++r)for(var i,a=t[r],s=a.length,l=o[r]=[],d=0;d<s;++d)(i=a[d])&&e.call(i,i.__data__,d,a)&&l.push(i);return new e7(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=Array(o),s=0;s<i;++s)for(var l,d=t[s],c=n[s],u=d.length,h=a[s]=Array(u),f=0;f<u;++f)(l=d[f]||c[f])&&(h[f]=l);for(;s<o;++s)a[s]=t[s];return new e7(a,this._parents,this._name,this._id)},selection:function(){return new e4(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++e6,o=this._groups,r=o.length,i=0;i<r;++i)for(var a,s=o[i],l=s.length,d=0;d<l;++d)if(a=s[d]){var c=eX(a,t);eV(a,e,n,d,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new e7(o,this._parents,e,n)},call:e9.call,nodes:e9.nodes,node:e9.node,size:e9.size,empty:e9.empty,each:e9.each,on:function(e,t){var n,o,r,i=this._id;return arguments.length<2?eX(this.node(),i).on.on(e):this.each((r=(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?eF:eq,function(){var a=r(this,i),s=a.on;s!==n&&(o=(n=s).copy()).on(e,t),a.on=o}))},attr:function(e,t){var n=G(e),o="transform"===n?eG:e3;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var o,r,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===o&&s===r?i:(r=s,i=t(o=a,l))}}:function(e,t,n){var o,r,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(s=l+"")?null:a===o&&s===r?i:(r=s,i=t(o=a,l))}})(n,o,eJ(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}:function(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}})(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var o=G(e);return this.tween(n,(o.local?function(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(t){this.setAttributeNS(e.space,e.local,r.call(this,t))}),n}return r._value=t,r}:function(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(t){this.setAttribute(e,r.call(this,t))}),n}return r._value=t,r})(o,t))},style:function(e,t,n){var o,r,i,a,s,l,d,c,u,h,f,p,m,g,x,y,v,b,w,N,_,j="transform"==(e+="")?eQ:e3;return null==t?this.styleTween(e,(o=e,function(){var e=ee(this,o),t=(this.style.removeProperty(o),ee(this,o));return e===t?null:e===r&&t===i?a:a=j(r=e,i=t)})).on("end.style."+e,e5(e)):"function"==typeof t?this.styleTween(e,(s=e,l=eJ(this,"style."+e,t),function(){var e=ee(this,s),t=l(this),n=t+"";return null==t&&(this.style.removeProperty(s),n=t=ee(this,s)),e===n?null:e===d&&n===c?u:(c=n,u=j(d=e,t))})).each((h=this._id,v="end."+(y="style."+(f=e)),function(){var e=eq(this,h),t=e.on,n=null==e.value[y]?x||(x=e5(f)):void 0;(t!==p||g!==n)&&(m=(p=t).copy()).on(v,g=n),e.on=m})):this.styleTween(e,(b=e,_=t+"",function(){var e=ee(this,b);return e===_?null:e===w?N:N=j(w=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!=typeof t)throw Error();return this.tween(o,function(e,t,n){var o,r;function i(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&function(t){this.style.setProperty(e,i.call(this,t),n)}),o}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=eJ(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&function(e){this.textContent=o.call(this,e)}),t}return o._value=e,o}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=eX(this.node(),n).tween,i=0,a=r.length;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((null==t?function(e,t){var n,o;return function(){var r=eq(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,s=o.length;a<s;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}}r.tween=o}}:function(e,t,n){var o,r;if("function"!=typeof n)throw Error();return function(){var i=eq(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var s={name:t,value:n},l=0,d=r.length;l<d;++l)if(r[l].name===t){r[l]=s;break}l===d&&r.push(s)}i.tween=r}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eF(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){eF(this,e).delay=t}})(t,e)):eX(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eq(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){eq(this,e).duration=t}})(t,e)):eX(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){eq(this,e).ease=t}}(t,e)):eX(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();eq(this,t).ease=n}))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){0==--r&&i()}};n.each(function(){var n=eq(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===r&&i()})},[Symbol.iterator]:e9[Symbol.iterator]};var e8={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};eb.prototype.interrupt=function(e){return this.each(function(){(function(e,t){var n,o,r,i=e.__transition,a=!0;if(i){for(r in t=null==t?null:t+"",i){if((n=i[r]).name!==t){a=!1;continue}o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]}a&&delete e.__transition}})(this,e)})},eb.prototype.transition=function(e){var t,n;e instanceof e7?(t=e._id,e=e._name):(t=++e6,(n=e8).time=eI(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a,s=o[i],l=s.length,d=0;d<l;++d)(a=s[d])&&eV(a,e,t,d,s,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(a,t));return new e7(o,this._parents,e,t)};function te(e,t,n){this.k=e,this.x=t,this.y=n}te.prototype={constructor:te,scale:function(e){return 1===e?this:new te(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new te(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tt=new te(1,0,0);te.prototype,n(26490);let tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},to=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],tr=["Enter"," ","Escape"],ti={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};(function(e){e.Strict="strict",e.Loose="loose"})(r||(r={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(i||(i={})),function(e){e.Partial="partial",e.Full="full"}(a||(a={}));let ta={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(s||(s={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(l||(l={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(d||(d={}));let ts={[d.Left]:d.Right,[d.Right]:d.Left,[d.Top]:d.Bottom,[d.Bottom]:d.Top};function tl(e){return null===e?null:e?"valid":"invalid"}let td=e=>"id"in e&&"source"in e&&"target"in e,tc=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),tu=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),th=(e,t=[0,0])=>{let{width:n,height:o}=tT(e),r=e.origin??t,i=n*r[0],a=o*r[1];return{x:e.position.x-i,y:e.position.y-a}},tf=(e,t={nodeOrigin:[0,0]})=>0===e.length?{x:0,y:0,width:0,height:0}:tC(e.reduce((e,n)=>{let o="string"==typeof n,r=t.nodeLookup||o?void 0:n;return t.nodeLookup&&(r=o?t.nodeLookup.get(n):tu(n)?n:t.nodeLookup.get(n.id)),tj(e,r?tM(r,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),tp=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(e=>{(void 0===t.filter||t.filter(e))&&(n=tj(n,tM(e)),o=!0)}),o?tC(n):{x:0,y:0,width:0,height:0}},tm=(e,t,[n,o,r]=[0,0,1],i=!1,a=!1)=>{let s={...tD(t,[n,o,r]),width:t.width/r,height:t.height/r},l=[];for(let t of e.values()){let{measured:e,selectable:n=!0,hidden:o=!1}=t;if(a&&!n||o)continue;let r=e.width??t.width??t.initialWidth??null,d=e.height??t.height??t.initialHeight??null,c=tE(s,tk(t)),u=(r??0)*(d??0),h=i&&c>0;(!t.internals.handleBounds||h||c>=u||t.dragging)&&l.push(t)}return l},tg=(e,t)=>{let n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))};async function tx({nodes:e,width:t,height:n,panZoom:o,minZoom:r,maxZoom:i},a){if(0===e.size)return Promise.resolve(!0);let s=tL(tp(function(e,t){let n=new Map,o=t?.nodes?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{e.measured.width&&e.measured.height&&(t?.includeHiddenNodes||!e.hidden)&&(!o||o.has(e.id))&&n.set(e.id,e)}),n}(e,a)),t,n,a?.minZoom??r,a?.maxZoom??i,a?.padding??.1);return await o.setViewport(s,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)}async function ty({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:r}){let i=new Set(e.map(e=>e.id)),a=[];for(let e of n){if(!1===e.deletable)continue;let t=i.has(e.id),n=!t&&e.parentId&&a.find(t=>t.id===e.parentId);(t||n)&&a.push(e)}let s=new Set(t.map(e=>e.id)),l=o.filter(e=>!1!==e.deletable),d=tg(a,l);for(let e of l)s.has(e.id)&&!d.find(t=>t.id===e.id)&&d.push(e);if(!r)return{edges:d,nodes:a};let c=await r({nodes:a,edges:d});return"boolean"==typeof c?c?{edges:d,nodes:a}:{edges:[],nodes:[]}:c}let tv=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),tb=(e={x:0,y:0},t,n)=>({x:tv(e.x,t[0][0],t[1][0]-(n?.width??0)),y:tv(e.y,t[0][1],t[1][1]-(n?.height??0))});function tw(e,t,n){let{width:o,height:r}=tT(n),{x:i,y:a}=n.internals.positionAbsolute;return tb(e,[[i,a],[i+o,a+r]],t)}let tN=(e,t,n)=>e<t?tv(Math.abs(e-t),1,t)/t:e>n?-tv(Math.abs(e-n),1,t)/t:0,t_=(e,t,n=15,o=40)=>[tN(e.x,o,t.width-o)*n,tN(e.y,o,t.height-o)*n],tj=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),tS=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),tC=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),tk=(e,t=[0,0])=>{let{x:n,y:o}=tu(e)?e.internals.positionAbsolute:th(e,t);return{x:n,y:o,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},tM=(e,t=[0,0])=>{let{x:n,y:o}=tu(e)?e.internals.positionAbsolute:th(e,t);return{x:n,y:o,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:o+(e.measured?.height??e.height??e.initialHeight??0)}},tA=(e,t)=>tC(tj(tS(e),tS(t))),tE=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),tP=e=>tI(e.width)&&tI(e.height)&&tI(e.x)&&tI(e.y),tI=e=>!isNaN(e)&&isFinite(e),t$=(e,t)=>{},tR=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),tD=({x:e,y:t},[n,o,r],i=!1,a=[1,1])=>{let s={x:(e-n)/r,y:(t-o)/r};return i?tR(s,a):s},tO=({x:e,y:t},[n,o,r])=>({x:e*r+n,y:t*r+o});function tz(e,t){if("number"==typeof e)return Math.floor((t-t/(1+e))*.5);if("string"==typeof e&&e.endsWith("px")){let t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){let n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}let tL=(e,t,n,o,r,i)=>{let a=function(e,t,n){if("string"==typeof e||"number"==typeof e){let o=tz(e,n),r=tz(e,t);return{top:o,right:r,bottom:o,left:r,x:2*r,y:2*o}}if("object"==typeof e){let o=tz(e.top??e.y??0,n),r=tz(e.bottom??e.y??0,n),i=tz(e.left??e.x??0,t),a=tz(e.right??e.x??0,t);return{top:o,right:a,bottom:r,left:i,x:i+a,y:o+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,t,n),s=tv(Math.min((t-a.x)/e.width,(n-a.y)/e.height),o,r),l=e.x+e.width/2,d=e.y+e.height/2,c=t/2-l*s,u=n/2-d*s,h=function(e,t,n,o,r,i){let{x:a,y:s}=tO(e,[t,n,o]),{x:l,y:d}=tO({x:e.x+e.width,y:e.y+e.height},[t,n,o]);return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(r-l),bottom:Math.floor(i-d)}}(e,c,u,s,t,n),f={left:Math.min(h.left-a.left,0),top:Math.min(h.top-a.top,0),right:Math.min(h.right-a.right,0),bottom:Math.min(h.bottom-a.bottom,0)};return{x:c-f.left+f.right,y:u-f.top+f.bottom,zoom:s}},tB=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function tH(e){return null!=e&&"parent"!==e}function tT(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function tV(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function tF(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let tq=e=>({width:e.offsetWidth,height:e.offsetHeight}),tX=e=>e?.getRootNode?.()||window?.document,tY=["INPUT","SELECT","TEXTAREA"],tZ=e=>"clientX"in e,tW=(e,t)=>{let n=tZ(e),o=n?e.clientX:e.touches?.[0].clientX,r=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:r-(t?.top??0)}},tK=(e,t,n,o,r)=>{let i=t.querySelectorAll(`.${e}`);return i&&i.length?Array.from(i).map(t=>{let i=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:r,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/o,y:(i.top-n.top)/o,...tq(t)}}):null};function tU({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:a,targetControlY:s}){let l=.125*e+.375*r+.375*a+.125*n,d=.125*t+.375*i+.375*s+.125*o,c=Math.abs(l-e),u=Math.abs(d-t);return[l,d,c,u]}function tQ(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function tG({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){switch(e){case d.Left:return[t-tQ(t-o,i),n];case d.Right:return[t+tQ(o-t,i),n];case d.Top:return[t,n-tQ(n-r,i)];case d.Bottom:return[t,n+tQ(r-n,i)]}}function tJ({sourceX:e,sourceY:t,sourcePosition:n=d.Bottom,targetX:o,targetY:r,targetPosition:i=d.Top,curvature:a=.25}){let[s,l]=tG({pos:n,x1:e,y1:t,x2:o,y2:r,c:a}),[c,u]=tG({pos:i,x1:o,y1:r,x2:e,y2:t,c:a}),[h,f,p,m]=tU({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${o},${r}`,h,f,p,m]}function t0({sourceX:e,sourceY:t,targetX:n,targetY:o}){let r=Math.abs(n-e)/2,i=Math.abs(o-t)/2;return[n<e?n+r:n-r,o<t?o+i:o-i,r,i]}let t1=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,t2=(e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),t3=(e,t,n={})=>{let o;if(!e.source||!e.target)return t$("006",tn.error006()),t;let r=n.getEdgeId||t1;return t2(o=td(e)?{...e}:{...e,id:r(e)},t)?t:(null===o.sourceHandle&&delete o.sourceHandle,null===o.targetHandle&&delete o.targetHandle,t.concat(o))};function t4({sourceX:e,sourceY:t,targetX:n,targetY:o}){let[r,i,a,s]=t0({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,i,a,s]}let t5={[d.Left]:{x:-1,y:0},[d.Right]:{x:1,y:0},[d.Top]:{x:0,y:-1},[d.Bottom]:{x:0,y:1}},t6=({source:e,sourcePosition:t=d.Bottom,target:n})=>t===d.Left||t===d.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},t7=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function t9({sourceX:e,sourceY:t,sourcePosition:n=d.Bottom,targetX:o,targetY:r,targetPosition:i=d.Top,borderRadius:a=5,centerX:s,centerY:l,offset:c=20,stepPosition:u=.5}){let[h,f,p,m,g]=function({source:e,sourcePosition:t=d.Bottom,target:n,targetPosition:o=d.Top,center:r,offset:i,stepPosition:a}){let s,l;let c=t5[t],u=t5[o],h={x:e.x+c.x*i,y:e.y+c.y*i},f={x:n.x+u.x*i,y:n.y+u.y*i},p=t6({source:h,sourcePosition:t,target:f}),m=0!==p.x?"x":"y",g=p[m],x=[],y={x:0,y:0},v={x:0,y:0},[,,b,w]=t0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[m]*u[m]==-1){"x"===m?(s=r.x??h.x+(f.x-h.x)*a,l=r.y??(h.y+f.y)/2):(s=r.x??(h.x+f.x)/2,l=r.y??h.y+(f.y-h.y)*a);let e=[{x:s,y:h.y},{x:s,y:f.y}],t=[{x:h.x,y:l},{x:f.x,y:l}];x=c[m]===g?"x"===m?e:t:"x"===m?t:e}else{let r=[{x:h.x,y:f.y}],a=[{x:f.x,y:h.y}];if(x="x"===m?c.x===g?a:r:c.y===g?r:a,t===o){let t=Math.abs(e[m]-n[m]);if(t<=i){let o=Math.min(i-1,i-t);c[m]===g?y[m]=(h[m]>e[m]?-1:1)*o:v[m]=(f[m]>n[m]?-1:1)*o}}if(t!==o){let e="x"===m?"y":"x",t=c[m]===u[e],n=h[e]>f[e],o=h[e]<f[e];(1===c[m]&&(!t&&n||t&&o)||1!==c[m]&&(!t&&o||t&&n))&&(x="x"===m?r:a)}let d={x:h.x+y.x,y:h.y+y.y},p={x:f.x+v.x,y:f.y+v.y};Math.max(Math.abs(d.x-x[0].x),Math.abs(p.x-x[0].x))>=Math.max(Math.abs(d.y-x[0].y),Math.abs(p.y-x[0].y))?(s=(d.x+p.x)/2,l=x[0].y):(s=x[0].x,l=(d.y+p.y)/2)}return[[e,{x:h.x+y.x,y:h.y+y.y},...x,{x:f.x+v.x,y:f.y+v.y},n],s,l,b,w]}({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:i,center:{x:s,y:l},offset:c,stepPosition:u});return[h.reduce((e,t,n)=>e+(n>0&&n<h.length-1?function(e,t,n,o){let r=Math.min(t7(e,t)/2,t7(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,o=e.y<n.y?1:-1;return`L ${i+r*t},${a}Q ${i},${a} ${i},${a+r*o}`}let s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${a+r*l}Q ${i},${a} ${i+r*s},${a}`}(h[n-1],t,h[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`),""),f,p,m,g]}function t8(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ne(e){if(!e)return null;let t=[],n=[];for(let o of e)o.width=o.width??1,o.height=o.height??1,"source"===o.type?t.push(o):"target"===o.type&&n.push(o);return{source:t,target:n}}function nt(e,t,n=d.Left,o=!1){let r=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??tT(e);if(o)return{x:r+a/2,y:i+s/2};switch(t?.position??n){case d.Top:return{x:r+a/2,y:i};case d.Right:return{x:r+a,y:i+s/2};case d.Bottom:return{x:r+a/2,y:i+s};case d.Left:return{x:r,y:i+s/2}}}function nn(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function no(e,t){if(!e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}let nr={nodeOrigin:[0,0],nodeExtent:to,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},ni={...nr,checkEquality:!0};function na(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function ns(e){return"manual"===e}function nl(e,t,n,o={}){let r=na(ni,o),i={i:0},a=new Map(t),s=r?.elevateNodesOnSelect&&!ns(r.zIndexMode)?1e3:0,l=e.length>0;for(let d of(t.clear(),n.clear(),e)){let e=a.get(d.id);if(r.checkEquality&&d===e?.internals.userNode)t.set(d.id,e);else{let n=tb(th(d,r.nodeOrigin),tH(d.extent)?d.extent:r.nodeExtent,tT(d));e={...r.defaults,...d,measured:{width:d.measured?.width,height:d.measured?.height},internals:{positionAbsolute:n,handleBounds:function(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;let n=[],o=[];for(let t of e.handles){let r={id:t.id,width:t.width??1,height:t.height??1,nodeId:e.id,x:t.x,y:t.y,position:t.position,type:t.type};"source"===t.type?n.push(r):"target"===t.type&&o.push(r)}return{source:n,target:o}}(d,e),z:nc(d,s,r.zIndexMode),userNode:d}},t.set(d.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(l=!1),d.parentId&&nd(e,t,n,o,i)}return l}function nd(e,t,n,o,r){let{elevateNodesOnSelect:i,nodeOrigin:a,nodeExtent:s,zIndexMode:l}=na(nr,o),d=e.parentId,c=t.get(d);if(!c){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}(function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))})(e,n),r&&!c.parentId&&void 0===c.internals.rootParentIndex&&"auto"===l&&(c.internals.rootParentIndex=++r.i,c.internals.z=c.internals.z+10*r.i),r&&void 0!==c.internals.rootParentIndex&&(r.i=c.internals.rootParentIndex);let{x:u,y:h,z:f}=function(e,t,n,o,r,i){let{x:a,y:s}=t.internals.positionAbsolute,l=tT(e),d=th(e,n),c=tH(e.extent)?tb(d,e.extent,l):d,u=tb({x:a+c.x,y:s+c.y},o,l);"parent"===e.extent&&(u=tw(u,l,t));let h=nc(e,r,i),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>=h?f+1:h}}(e,c,a,s,i&&!ns(l)?1e3:0,l),{positionAbsolute:p}=e.internals,m=u!==p.x||h!==p.y;(m||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:m?{x:u,y:h}:p,z:f}})}function nc(e,t,n){let o=tI(e.zIndex)?e.zIndex:0;return ns(n)?o:o+(e.selected?t:0)}function nu(e,t,n,o=[0,0]){let r=[],i=new Map;for(let n of e){let e=t.get(n.parentId);if(!e)continue;let o=tA(i.get(n.parentId)?.expandedRect??tk(e),n.rect);i.set(n.parentId,{expandedRect:o,parent:e})}return i.size>0&&i.forEach(({expandedRect:t,parent:i},a)=>{let s=i.internals.positionAbsolute,l=tT(i),d=i.origin??o,c=t.x<s.x?Math.round(Math.abs(s.x-t.x)):0,u=t.y<s.y?Math.round(Math.abs(s.y-t.y)):0,h=Math.max(l.width,Math.round(t.width)),f=Math.max(l.height,Math.round(t.height)),p=(h-l.width)*d[0],m=(f-l.height)*d[1];(c>0||u>0||p||m)&&(r.push({id:a,type:"position",position:{x:i.position.x-c+p,y:i.position.y-u+m}}),n.get(a)?.forEach(t=>{e.some(e=>e.id===t.id)||r.push({id:t.id,type:"position",position:{x:t.position.x+c,y:t.position.y+u}})})),(l.width<t.width||l.height<t.height||c||u)&&r.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:h+(c?d[0]*c-p:0),height:f+(u?d[1]*u-m:0)}})}),r}async function nh({delta:e,panZoom:t,transform:n,translateExtent:o,width:r,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);let a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,i]],o);return Promise.resolve(!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]))}function nf(e,t,n,o,r,i){let a=r,s=o.get(a)||new Map;o.set(a,s.set(n,t)),a=`${r}-${e}`;let l=o.get(a)||new Map;if(o.set(a,l.set(n,t)),i){a=`${r}-${e}-${i}`;let s=o.get(a)||new Map;o.set(a,s.set(n,t))}}function np(e,t,n){for(let o of(e.clear(),t.clear(),n)){let{source:n,target:r,sourceHandle:i=null,targetHandle:a=null}=o,s={edgeId:o.id,source:n,target:r,sourceHandle:i,targetHandle:a},l=`${n}-${i}--${r}-${a}`;nf("source",s,`${r}-${a}--${n}-${i}`,e,n,i),nf("target",s,l,e,r,a),t.set(o.id,o)}}function nm(e,t,n,o,r,i=!1){let a=o.get(e);if(!a)return null;let s="strict"===r?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],l=(n?s?.find(e=>e.id===n):s?.[0])??null;return l&&i?{...l,...nt(a,l,l.position,!0)}:l}function ng(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}let nx=()=>!0;function ny(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:i,fromType:a,doc:s,lib:l,flowId:d,isValidConnection:c=nx,nodeLookup:u}){let h="target"===a,f=t?s.querySelector(`.${l}-flow__handle[data-id="${d}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:m}=tW(e),g=s.elementFromPoint(p,m),x=g?.classList.contains(`${l}-flow__handle`)?g:f,y={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){let e=ng(void 0,x),t=x.getAttribute("data-nodeid"),a=x.getAttribute("data-handleid"),s=x.classList.contains("connectable"),l=x.classList.contains("connectableend");if(!t||!e)return y;let d={source:h?t:o,sourceHandle:h?a:i,target:h?o:t,targetHandle:h?i:a};y.connection=d;let f=s&&l&&(n===r.Strict?h&&"source"===e||!h&&"target"===e:t!==o||a!==i);y.isValid=f&&c(d),y.toHandle=nm(t,e,a,u,n,!0)}return y}let nv={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:r,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:h,panBy:f,cancelConnection:p,onConnectStart:m,onConnect:g,onConnectEnd:x,isValidConnection:y=nx,onReconnectEnd:v,updateConnection:b,getTransform:w,getFromHandle:N,autoPanSpeed:_,dragThreshold:j=1,handleDomNode:S}){let C;let k=tX(e.target),M=0,{x:A,y:E}=tW(e),P=ng(i,S),I=s?.getBoundingClientRect(),$=!1;if(!I||!P)return;let R=nm(r,P,o,l,t);if(!R)return;let D=tW(e,I),O=!1,z=null,L=!1,B=null,H={...R,nodeId:r,type:P,position:R.position},T=l.get(r),V={inProgress:!0,isValid:null,from:nt(T,H,d.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:T,to:D,toHandle:null,toPosition:ts[H.position],toNode:null,pointer:D};function F(){$=!0,b(V),m?.(e,{nodeId:r,handleId:o,handleType:P})}function q(e){var i,s;let p;if(!$){let{x:t,y:n}=tW(e),o=t-A,r=n-E;if(!(o*o+r*r>j*j))return;F()}if(!N()||!H){X(e);return}let m=w();C=function(e,t,n,o){let r=[],i=1/0;for(let a of function(e,t,n){let o=[],r={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())tE(r,tk(e))>0&&o.push(e);return o}(e,n,t+250))for(let n of[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]]){if(o.nodeId===n.nodeId&&o.type===n.type&&o.id===n.id)continue;let{x:s,y:l}=nt(a,n,n.position,!0),d=Math.sqrt(Math.pow(s-e.x,2)+Math.pow(l-e.y,2));d>t||(d<i?(r=[{...n,x:s,y:l}],i=d):d===i&&r.push({...n,x:s,y:l}))}if(!r.length)return null;if(r.length>1){let e="source"===o.type?"target":"source";return r.find(t=>t.type===e)??r[0]}return r[0]}(tD(D=tW(e,I),m,!1,[1,1]),n,l,H),O||(function e(){if(!u||!I)return;let[t,n]=t_(D,I,_);f({x:t,y:n}),M=requestAnimationFrame(e)}(),O=!0);let g=ny(e,{handle:C,connectionMode:t,fromNodeId:r,fromHandleId:o,fromType:a?"target":"source",isValidConnection:y,doc:k,lib:c,flowId:h,nodeLookup:l});B=g.handleDomNode,z=g.connection,i=!!C,s=g.isValid,p=null,s?p=!0:i&&!s&&(p=!1),L=p;let x=l.get(r),v=x?nt(x,H,d.Left,!0):V.from,S={...V,from:v,isValid:L,to:g.toHandle&&L?tO({x:g.toHandle.x,y:g.toHandle.y},m):D,toHandle:g.toHandle,toPosition:L&&g.toHandle?g.toHandle.position:ts[H.position],toNode:g.toHandle?l.get(g.toHandle.nodeId):null,pointer:D};b(S),V=S}function X(e){if(!("touches"in e)||!(e.touches.length>0)){if($){(C||B)&&z&&L&&g?.(z);let{inProgress:t,...n}=V,o={...n,toPosition:V.toHandle?V.toPosition:null};x?.(e,o),i&&v?.(e,o)}p(),cancelAnimationFrame(M),O=!1,L=!1,z=null,B=null,k.removeEventListener("mousemove",q),k.removeEventListener("mouseup",X),k.removeEventListener("touchmove",q),k.removeEventListener("touchend",X)}}0===j&&F(),k.addEventListener("mousemove",q),k.addEventListener("mouseup",X),k.addEventListener("touchmove",q),k.addEventListener("touchend",X)},isValid:ny};function nb(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)""!==(o=nb(e[n]))&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}!function(e){e.Line="line",e.Handle="handle"}(c||(c={}));var nw=n(73450);let nN=e=>{let t;let n=new Set,o=(e,o)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=o?o:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,i={setState:o,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(o,r,i);return i},n_=e=>e?nN(e):nN,{useDebugValue:nj}=f,{useSyncExternalStoreWithSelector:nS}=nw,nC=e=>e;function nk(e,t=nC,n){let o=nS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nj(o),o}let nM=(e,t)=>{let n=n_(e),o=(e,o=t)=>nk(n,e,o);return Object.assign(o,n),o},nA=(e,t)=>e?nM(e,t):nM;function nE(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}n(55740);let nP=(0,f.createContext)(null),nI=nP.Provider,n$=tn.error001();function nR(e,t){let n=(0,f.useContext)(nP);if(null===n)throw Error(n$);return nk(n,e,t)}function nD(){let e=(0,f.useContext)(nP);if(null===e)throw Error(n$);return(0,f.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let nO={display:"none"},nz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},nL="react-flow__node-desc",nB="react-flow__edge-desc",nH=e=>e.ariaLiveMessage,nT=e=>e.ariaLabelConfig;function nV({rfId:e}){let t=nR(nH);return(0,h.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:nz,children:t})}function nF({rfId:e,disableKeyboardA11y:t}){let n=nR(nT);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{id:`${nL}-${e}`,style:nO,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),(0,h.jsx)("div",{id:`${nB}-${e}`,style:nO,children:n["edge.a11yDescription.default"]}),!t&&(0,h.jsx)(nV,{rfId:e})]})}let nq=(0,f.forwardRef)(({position:e="top-left",children:t,className:n,style:o,...r},i)=>{let a=`${e}`.split("-");return(0,h.jsx)("div",{className:nb(["react-flow__panel",n,...a]),style:o,ref:i,...r,children:t})});function nX({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,h.jsx)(nq,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,h.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}nq.displayName="Panel";let nY=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},nZ=e=>e.id;function nW(e,t){return nE(e.selectedNodes.map(nZ),t.selectedNodes.map(nZ))&&nE(e.selectedEdges.map(nZ),t.selectedEdges.map(nZ))}function nK({onSelectionChange:e}){nD();let{selectedNodes:t,selectedEdges:n}=nR(nY,nW);return null}let nU=e=>!!e.onSelectionChangeHandlers;function nQ({onSelectionChange:e}){let t=nR(nU);return e||t?(0,h.jsx)(nK,{onSelectionChange:e}):null}let nG=[0,0],nJ={x:0,y:0,zoom:1},n0=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode","rfId"],n1=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),n2={translateExtent:to,nodeOrigin:nG,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function n3(e){let{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:r,setTranslateExtent:i,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l}=nR(n1,nE),d=nD(),c=(0,f.useRef)(n2);return(0,f.useEffect)(()=>{for(let s of n0){let l=e[s];l!==c.current[s]&&void 0!==e[s]&&("nodes"===s?t(l):"edges"===s?n(l):"minZoom"===s?o(l):"maxZoom"===s?r(l):"translateExtent"===s?i(l):"nodeExtent"===s?a(l):"ariaLabelConfig"===s?d.setState({ariaLabelConfig:{...ti,...l||{}}}):"fitView"===s?d.setState({fitViewQueued:l}):"fitViewOptions"===s?d.setState({fitViewOptions:l}):d.setState({[s]:l}))}c.current=e},n0.map(t=>e[t])),null}let n4="undefined"!=typeof document?document:null;function n5(e=null,t={target:n4,actInsideInputWithModifier:!0}){let[n,o]=(0,f.useState)(!1);(0,f.useRef)(!1),(0,f.useRef)(new Set([]));let[r,i]=(0,f.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return n}let n6=()=>{let e=nD();return(0,f.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{let{transform:[o,r,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??o,y:t.y??r,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},setCenter:async(t,n,o)=>e.getState().setCenter(t,n,o),fitBounds:async(t,n)=>{let{width:o,height:r,minZoom:i,maxZoom:a,panZoom:s}=e.getState(),l=tL(t,o,r,i,a,n?.padding??.1);return s?(await s.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{let{transform:o,snapGrid:r,snapToGrid:i,domNode:a}=e.getState();if(!a)return t;let{x:s,y:l}=a.getBoundingClientRect(),d={x:t.x-s,y:t.y-l},c=n.snapGrid??r;return tD(d,o,n.snapToGrid??i,c)},flowToScreenPosition:t=>{let{transform:n,domNode:o}=e.getState();if(!o)return t;let{x:r,y:i}=o.getBoundingClientRect(),a=tO(t,n);return{x:a.x+r,y:a.y+i}}}),[])};function n7(e,t){let n=[],o=new Map,r=[];for(let t of e){if("add"===t.type){r.push(t);continue}if("remove"===t.type||"replace"===t.type)o.set(t.id,[t]);else{let e=o.get(t.id);e?e.push(t):o.set(t.id,[t])}}for(let e of t){let t=o.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let r={...e};for(let e of t)(function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured={...e.dimensions},e.setAttributes&&((!0===e.setAttributes||"width"===e.setAttributes)&&(t.width=e.dimensions.width),(!0===e.setAttributes||"height"===e.setAttributes)&&(t.height=e.dimensions.height))),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}})(e,r);n.push(r)}return r.length&&r.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function n9(e,t){return{id:e,type:"select",selected:t}}function n8(e,t=new Set,n=!1){let o=[];for(let[r,i]of e){let e=t.has(r);(void 0!==i.selected||e)&&i.selected!==e&&(n&&(i.selected=e),o.push(n9(i.id,e)))}return o}function oe({items:e=[],lookup:t}){let n=[],o=new Map(e.map(e=>[e.id,e]));for(let[o,r]of e.entries()){let e=t.get(r.id),i=e?.internals?.userNode??e;void 0!==i&&i!==r&&n.push({id:r.id,item:r,type:"replace"}),void 0===i&&n.push({item:r,type:"add",index:o})}for(let[e]of t)void 0===o.get(e)&&n.push({id:e,type:"remove"});return n}function ot(e){return{id:e.id,type:"remove"}}let on=e=>tc(e),oo=e=>td(e);function or(e){return(0,f.forwardRef)(e)}let oi=f.useEffect;function oa(e){let[t,n]=(0,f.useState)(BigInt(0)),[o]=(0,f.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return oi(()=>{let t=o.get();t.length&&(e(t),o.reset())},[t]),o}let os=(0,f.createContext)(null);function ol({children:e}){let t=nD(),n=oa((0,f.useCallback)(e=>{let{nodes:n=[],setNodes:o,hasDefaultNodes:r,onNodesChange:i,nodeLookup:a,fitViewQueued:s,onNodesChangeMiddlewareMap:l}=t.getState(),d=n;for(let t of e)d="function"==typeof t?t(d):t;let c=oe({items:d,lookup:a});for(let e of l.values())c=e(c);r&&o(d),c.length>0?i?.(c):s&&window.requestAnimationFrame(()=>{let{fitViewQueued:e,nodes:n,setNodes:o}=t.getState();e&&o(n)})},[])),o=oa((0,f.useCallback)(e=>{let{edges:n=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:i,edgeLookup:a}=t.getState(),s=n;for(let t of e)s="function"==typeof t?t(s):t;r?o(s):i&&i(oe({items:s,lookup:a}))},[])),r=(0,f.useMemo)(()=>({nodeQueue:n,edgeQueue:o}),[]);return(0,h.jsx)(os.Provider,{value:r,children:e})}let od=e=>!!e.panZoom;function oc(){let e=n6(),t=nD(),n=function(){let e=(0,f.useContext)(os);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),o=nR(od),r=(0,f.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),o=e=>{n.nodeQueue.push(e)},r=e=>{n.edgeQueue.push(e)},i=e=>{let{nodeLookup:n,nodeOrigin:o}=t.getState(),r=on(e)?e:n.get(e.id),i=r.parentId?function(e,t={width:0,height:0},n,o,r){let i={...e},a=o.get(n);if(a){let e=a.origin||r;i.x+=a.internals.positionAbsolute.x-(t.width??0)*e[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*e[1]}return i}(r.position,r.measured,r.parentId,n,o):r.position;return tk({...r,position:i,width:r.measured?.width??r.width,height:r.measured?.height??r.height})},a=(e,t,n={replace:!1})=>{o(o=>o.map(o=>{if(o.id===e){let e="function"==typeof t?t(o):t;return n.replace&&on(e)?e:{...o,...e}}return o}))},s=(e,t,n={replace:!1})=>{r(o=>o.map(o=>{if(o.id===e){let e="function"==typeof t?t(o):t;return n.replace&&oo(e)?e:{...o,...e}}return o}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:o,setEdges:r,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:o}=t.getState(),[r,i,a]=o;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:r,y:i,zoom:a}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{let{nodes:o,edges:r,onNodesDelete:i,onEdgesDelete:a,triggerNodeChanges:s,triggerEdgeChanges:l,onDelete:d,onBeforeDelete:c}=t.getState(),{nodes:u,edges:h}=await ty({nodesToRemove:e,edgesToRemove:n,nodes:o,edges:r,onBeforeDelete:c}),f=h.length>0,p=u.length>0;if(f){let e=h.map(ot);a?.(h),l(e)}if(p){let e=u.map(ot);i?.(u),s(e)}return(p||f)&&d?.({nodes:u,edges:h}),{deletedNodes:u,deletedEdges:h}},getIntersectingNodes:(e,n=!0,o)=>{let r=tP(e),a=r?e:i(e),s=void 0!==o;return a?(o||t.getState().nodes).filter(o=>{let i=t.getState().nodeLookup.get(o.id);if(i&&!r&&(o.id===e.id||!i.internals.positionAbsolute))return!1;let l=tk(s?o:i),d=tE(l,a);return n&&d>0||d>=l.width*l.height||d>=a.width*a.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{let o=tP(e)?e:i(e);if(!o)return!1;let r=tE(o,t);return n&&r>0||r>=t.width*t.height||r>=o.width*o.height},updateNode:a,updateNodeData:(e,t,n={replace:!1})=>{a(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)},updateEdge:s,updateEdgeData:(e,t,n={replace:!1})=>{s(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)},getNodesBounds:e=>{let{nodeLookup:n,nodeOrigin:o}=t.getState();return tf(e,{nodeLookup:n,nodeOrigin:o})},getHandleConnections:({type:e,id:n,nodeId:o})=>Array.from(t.getState().connectionLookup.get(`${o}-${e}${n?`-${n}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:n,nodeId:o})=>Array.from(t.getState().connectionLookup.get(`${o}${e?n?`-${e}-${n}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{let o,r;let i=t.getState().fitViewResolver??{promise:new Promise((e,t)=>{o=e,r=t}),resolve:o,reject:r};return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:i}),n.nodeQueue.push(e=>[...e]),i.promise}}},[]);return(0,f.useMemo)(()=>({...r,...e,viewportInitialized:o}),[o])}let ou=void 0,oh={position:"absolute",width:"100%",height:"100%",top:0,left:0},of=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function op({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:r=.5,panOnScrollMode:a=i.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:d,translateExtent:c,minZoom:u,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:g=!0,children:x,noWheelClassName:y,noPanClassName:v,onViewportChange:b,isControlledViewport:w,paneClickDistance:N,selectionOnDrag:_}){let j=nD(),S=(0,f.useRef)(null),{userSelectionActive:C,lib:k,connectionInProgress:M}=nR(of,nE);return n5(m),(0,f.useRef)(),nD(),(0,f.useCallback)(e=>{b?.({x:e[0],y:e[1],zoom:e[2]}),w||j.setState({transform:e})},[b,w]),(0,h.jsx)("div",{className:"react-flow__renderer",ref:S,style:oh,children:x})}let om=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function og(){let{userSelectionActive:e,userSelectionRect:t}=nR(om,nE);return e&&t?(0,h.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}let ox=(e,t)=>n=>{n.target===t.current&&e?.(n)},oy=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function ov({isSelecting:e,selectionKeyPressed:t,selectionMode:n=a.Full,panOnDrag:o,paneClickDistance:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:d,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:g,children:x}){let y=nD(),{userSelectionActive:v,elementsSelectable:b,dragging:w,connectionInProgress:N}=nR(oy,nE),_=b&&(e||v),j=(0,f.useRef)(null),S=(0,f.useRef)(),C=(0,f.useRef)(new Set),k=(0,f.useRef)(new Set),M=(0,f.useRef)(!1),A=e=>{if(M.current||N){M.current=!1;return}d?.(e),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},E=!0===o||Array.isArray(o)&&o.includes(0);return(0,h.jsxs)("div",{className:nb(["react-flow__pane",{draggable:E,dragging:w,selection:e}]),onClick:_?void 0:ox(A,j),onContextMenu:ox(e=>{if(Array.isArray(o)&&o?.includes(2)){e.preventDefault();return}c?.(e)},j),onWheel:ox(u?e=>u(e):void 0,j),onPointerEnter:_?void 0:p,onPointerMove:_?e=>{let{userSelectionRect:o,transform:i,nodeLookup:l,edgeLookup:d,connectionLookup:c,triggerNodeChanges:u,triggerEdgeChanges:h,defaultEdgeOptions:f,resetSelectedElements:p}=y.getState();if(!S.current||!o)return;let{x:m,y:g}=tW(e.nativeEvent,S.current),{startX:x,startY:v}=o;if(!M.current){if(Math.hypot(m-x,g-v)<=(t?0:r))return;p(),s?.(e)}M.current=!0;let b={startX:x,startY:v,x:m<x?m:x,y:g<v?g:v,width:Math.abs(m-x),height:Math.abs(g-v)},w=C.current,N=k.current;C.current=new Set(tm(l,b,i,n===a.Partial,!0).map(e=>e.id)),k.current=new Set;let _=f?.selectable??!0;for(let e of C.current){let t=c.get(e);if(t)for(let{edgeId:e}of t.values()){let t=d.get(e);t&&(t.selectable??_)&&k.current.add(e)}}tF(w,C.current)||u(n8(l,C.current,!0)),tF(N,k.current)||h(n8(d,k.current)),y.setState({userSelectionRect:b,userSelectionActive:!0,nodesSelectionActive:!1})}:m,onPointerUp:_?e=>{0===e.button&&(e.target?.releasePointerCapture?.(e.pointerId),!v&&e.target===j.current&&y.getState().userSelectionRect&&A?.(e),y.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(l?.(e),y.setState({nodesSelectionActive:C.current.size>0})))}:void 0,onPointerDownCapture:_?n=>{let{domNode:o}=y.getState();if(S.current=o?.getBoundingClientRect(),!S.current)return;let r=n.target===j.current;if(!r&&n.target.closest(".nokey")||!e||!(i&&r||t)||0!==n.button||!n.isPrimary)return;n.target?.setPointerCapture?.(n.pointerId),M.current=!1;let{x:a,y:s}=tW(n.nativeEvent,S.current);y.setState({userSelectionRect:{width:0,height:0,startX:a,startY:s,x:a,y:s}}),r||(n.stopPropagation(),n.preventDefault())}:void 0,onClickCapture:_?e=>{M.current&&(e.stopPropagation(),M.current=!1)}:void 0,onPointerLeave:g,ref:j,style:oh,children:[x,(0,h.jsx)(og,{})]})}function ob({id:e,store:t,unselect:n=!1,nodeRef:o}){let{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),d=s.get(e);if(!d){l?.("012",tn.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&a)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):r([e])}function ow({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:r,isSelectable:i,nodeClickDistance:a}){nD();let[s,l]=(0,f.useState)(!1);return(0,f.useRef)(),s}let oN=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function o_(){let e=nD();return(0,f.useCallback)(t=>{let{nodeExtent:n,snapToGrid:o,snapGrid:r,nodesDraggable:i,onError:a,updateNodePositions:s,nodeLookup:l,nodeOrigin:d}=e.getState(),c=new Map,u=oN(i),h=o?r[0]:5,f=o?r[1]:5,p=t.direction.x*h*t.factor,m=t.direction.y*f*t.factor;for(let[,e]of l){if(!u(e))continue;let t={x:e.internals.positionAbsolute.x+p,y:e.internals.positionAbsolute.y+m};o&&(t=tR(t,r));let{position:i,positionAbsolute:s}=function({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:r,onError:i}){let a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:d}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??o,u=a.extent||r;if("parent"!==a.extent||a.expandParent)s&&tH(a.extent)&&(u=[[a.extent[0][0]+l,a.extent[0][1]+d],[a.extent[1][0]+l,a.extent[1][1]+d]]);else if(s){let e=s.measured.width,t=s.measured.height;e&&t&&(u=[[l,d],[l+e,d+t]])}else i?.("005",tn.error005());let h=tH(u)?tb(t,u,a.measured):t;return(void 0===a.measured.width||void 0===a.measured.height)&&i?.("015",tn.error015()),{position:{x:h.x-l+(a.measured.width??0)*c[0],y:h.y-d+(a.measured.height??0)*c[1]},positionAbsolute:h}}({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:d,onError:a});e.position=i,e.internals.positionAbsolute=s,c.set(e.id,e)}s(c)},[])}let oj=(0,f.createContext)(null),oS=oj.Provider;oj.Consumer;let oC=()=>(0,f.useContext)(oj),ok=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),oM=(e,t,n)=>o=>{let{connectionClickStartHandle:i,connectionMode:a,connection:s}=o,{fromHandle:l,toHandle:d,isValid:c}=s,u=d?.nodeId===e&&d?.id===t&&d?.type===n;return{connectingFrom:l?.nodeId===e&&l?.id===t&&l?.type===n,connectingTo:u,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===n,isPossibleEndHandle:a===r.Strict?l?.type!==n:e!==l?.nodeId||t!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:u&&c}},oA=(0,f.memo)(or(function({type:e="source",position:t=d.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:a,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:f,...p},m){let g=a||null,x="target"===e,y=nD(),v=oC(),{connectOnClick:b,noPanClassName:w,rfId:N}=nR(ok,nE),{connectingFrom:_,connectingTo:j,clickConnecting:S,isPossibleEndHandle:C,connectionInProcess:k,clickConnectionInProcess:M,valid:A}=nR(oM(v,g,e),nE);v||y.getState().onError?.("010",tn.error010());let E=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=y.getState(),r={...t,...e};if(o){let{edges:e,setEdges:t}=y.getState();t(t3(r,e))}n?.(r),s?.(r)},P=e=>{if(!v)return;let t=tZ(e.nativeEvent);if(r&&(t&&0===e.button||!t)){let t=y.getState();nv.onPointerDown(e.nativeEvent,{handleDomNode:e.currentTarget,autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:x,handleId:g,nodeId:v,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:E,isValidConnection:n||t.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed,dragThreshold:t.connectionDragThreshold})}t?u?.(e):f?.(e)};return(0,h.jsx)("div",{"data-handleid":g,"data-nodeid":v,"data-handlepos":t,"data-id":`${N}-${v}-${g}-${e}`,className:nb(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,c,{source:!x,target:x,connectable:o,connectablestart:r,connectableend:i,clickconnecting:S,connectingfrom:_,connectingto:j,valid:A,connectionindicator:o&&(!k||C)&&(k||M?i:r)}]),onMouseDown:P,onTouchStart:P,onClick:b?t=>{let{onClickConnectStart:o,onClickConnectEnd:i,connectionClickStartHandle:a,connectionMode:s,isValidConnection:l,lib:d,rfId:c,nodeLookup:u,connection:h}=y.getState();if(!v||!a&&!r)return;if(!a){o?.(t.nativeEvent,{nodeId:v,handleId:g,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:v,type:e,id:g}});return}let f=tX(t.target),p=n||l,{connection:m,isValid:x}=nv.isValid(t.nativeEvent,{handle:{nodeId:v,id:g,type:e},connectionMode:s,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:p,flowId:c,doc:f,lib:d,nodeLookup:u});x&&m&&E(m);let b=structuredClone(h);delete b.inProgress,b.toPosition=b.toHandle?b.toHandle.position:null,i?.(t,b),y.setState({connectionClickStartHandle:null})}:void 0,ref:m,...p,children:l})})),oE={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},oP={input:function({data:e,isConnectable:t,sourcePosition:n=d.Bottom}){return(0,h.jsxs)(h.Fragment,{children:[e?.label,(0,h.jsx)(oA,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=d.Top,sourcePosition:o=d.Bottom}){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(oA,{type:"target",position:n,isConnectable:t}),e?.label,(0,h.jsx)(oA,{type:"source",position:o,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=d.Top}){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(oA,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},oI=e=>{let{width:t,height:n,x:o,y:r}=tp(e.nodeLookup,{filter:e=>!!e.selected});return{width:tI(t)?t:null,height:tI(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${r}px)`}};function o$({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let o=nD(),{width:r,height:i,transformString:a,userSelectionActive:s}=nR(oI,nE),l=o_(),d=(0,f.useRef)(null);if(ow({nodeRef:d}),s||!r||!i)return null;let c=e?t=>{e(t,o.getState().nodes.filter(e=>e.selected))}:void 0;return(0,h.jsx)("div",{className:nb(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:(0,h.jsx)("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(oE,e.key)&&(e.preventDefault(),l({direction:oE[e.key],factor:e.shiftKey?4:1}))},style:{width:r,height:i}})})}let oR=void 0,oD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function oO({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:d,selectionOnDrag:c,selectionMode:u,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:g,zoomActivationKeyCode:x,elementsSelectable:y,zoomOnScroll:v,zoomOnPinch:b,panOnScroll:w,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:S,defaultViewport:C,translateExtent:k,minZoom:M,maxZoom:A,preventScrolling:E,onSelectionContextMenu:P,noWheelClassName:I,noPanClassName:$,disableKeyboardA11y:R,onViewportChange:D,isControlledViewport:O}){let{nodesSelectionActive:z,userSelectionActive:L}=nR(oD,nE),B=n5(d,{target:oR}),H=n5(g,{target:oR}),T=H||S,V=H||w,F=c&&!0!==T,q=B||L||F;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){nD();let{deleteElements:n}=oc();n5(e,{actInsideInputWithModifier:!1}),n5(t,{target:ou})}({deleteKeyCode:l,multiSelectionKeyCode:m}),(0,h.jsx)(op,{onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:v,zoomOnPinch:b,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:!B&&T,defaultViewport:C,translateExtent:k,minZoom:M,maxZoom:A,zoomActivationKeyCode:x,preventScrolling:E,noWheelClassName:I,noPanClassName:$,onViewportChange:D,isControlledViewport:O,paneClickDistance:s,selectionOnDrag:F,children:(0,h.jsxs)(ov,{onSelectionStart:f,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:T,isSelecting:!!q,selectionMode:u,selectionKeyPressed:B,paneClickDistance:s,selectionOnDrag:F,children:[e,z&&(0,h.jsx)(o$,{onSelectionContextMenu:P,noPanClassName:$,disableKeyboardA11y:R})]})})}oO.displayName="FlowRenderer";let oz=(0,f.memo)(oO),oL=e=>t=>e?tm(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()),oB=e=>e.updateNodeInternals;var oH=(0,f.memo)(function({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:r,onContextMenu:i,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:d,nodesFocusable:c,resizeObserver:u,noDragClassName:p,noPanClassName:m,disableKeyboardA11y:g,rfId:x,nodeTypes:y,nodeClickDistance:v,onError:b}){let{node:w,internals:N,isParent:_}=nR(t=>{let n=t.nodeLookup.get(e),o=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:o}},nE),j=w.type||"default",S=y?.[j]||oP[j];void 0===S&&(b?.("003",tn.error003(j)),j="default",S=y?.default||oP.default);let C=!!(w.draggable||s&&void 0===w.draggable),k=!!(w.selectable||l&&void 0===w.selectable),M=!!(w.connectable||d&&void 0===w.connectable),A=!!(w.focusable||c&&void 0===w.focusable),E=nD(),P=tV(w),I=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){nD();let r=(0,f.useRef)(null);return(0,f.useRef)(null),(0,f.useRef)(e.sourcePosition),(0,f.useRef)(e.targetPosition),(0,f.useRef)(t),n&&e.internals.handleBounds,r}({node:w,nodeType:j,hasDimensions:P,resizeObserver:u}),$=ow({nodeRef:I,disabled:w.hidden||!C,noDragClassName:p,handleSelector:w.dragHandle,nodeId:e,isSelectable:k,nodeClickDistance:v}),R=o_();if(w.hidden)return null;let D=tT(w),O=void 0===w.internals.handleBounds?{width:w.width??w.initialWidth??w.style?.width,height:w.height??w.initialHeight??w.style?.height}:{width:w.width??w.style?.width,height:w.height??w.style?.height},z=k||C||t||n||o||r,L=n?e=>n(e,{...N.userNode}):void 0,B=o?e=>o(e,{...N.userNode}):void 0,H=r?e=>r(e,{...N.userNode}):void 0,T=i?e=>i(e,{...N.userNode}):void 0,V=a?e=>a(e,{...N.userNode}):void 0;return(0,h.jsx)("div",{className:nb(["react-flow__node",`react-flow__node-${j}`,{[m]:C},w.className,{selected:w.selected,selectable:k,parent:_,draggable:C,dragging:$}]),ref:I,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:z?"all":"none",visibility:P?"visible":"hidden",...w.style,...O},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:B,onMouseLeave:H,onContextMenu:T,onClick:n=>{let{selectNodesOnDrag:o,nodeDragThreshold:r}=E.getState();k&&(!o||!C||r>0)&&ob({id:e,store:E,nodeRef:I}),t&&t(n,{...N.userNode})},onDoubleClick:V,onKeyDown:A?t=>{if(!function(e){let t=e.composedPath?.()?.[0]||e.target;return t?.nodeType===1&&(tY.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey"))}(t.nativeEvent)&&!g){if(tr.includes(t.key)&&k)ob({id:e,store:E,unselect:"Escape"===t.key,nodeRef:I});else if(C&&w.selected&&Object.prototype.hasOwnProperty.call(oE,t.key)){t.preventDefault();let{ariaLabelConfig:e}=E.getState();E.setState({ariaLiveMessage:e["node.a11yDescription.ariaLiveMessage"]({direction:t.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),R({direction:oE[t.key],factor:t.shiftKey?4:1})}}}:void 0,tabIndex:A?0:void 0,onFocus:A?()=>{if(g||!I.current?.matches(":focus-visible"))return;let{transform:t,width:n,height:o,autoPanOnNodeFocus:r,setCenter:i}=E.getState();r&&(tm(new Map([[e,w]]),{x:0,y:0,width:n,height:o},t,!0).length>0||i(w.position.x+D.width/2,w.position.y+D.height/2,{zoom:t[2]}))}:void 0,role:w.ariaRole??(A?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${nL}-${x}`,"aria-label":w.ariaLabel,...w.domAttributes,children:(0,h.jsx)(oS,{value:e,children:(0,h.jsx)(S,{id:e,data:w.data,type:j,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:w.selected??!1,selectable:k,draggable:C,deletable:w.deletable??!0,isConnectable:M,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:$,dragHandle:w.dragHandle,zIndex:N.z,parentId:w.parentId,...D})})})});let oT=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function oV(e){var t;let{nodesDraggable:n,nodesConnectable:o,nodesFocusable:r,elementsSelectable:i,onError:a}=nR(oT,nE),s=(t=e.onlyRenderVisibleElements,nR((0,f.useCallback)(oL(t),[t]),nE)),l=function(){let e=nR(oB),[t]=(0,f.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return t}();return(0,h.jsx)("div",{className:"react-flow__nodes",style:oh,children:s.map(t=>(0,h.jsx)(oH,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:n,nodesConnectable:o,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},t))})}oV.displayName="NodeRenderer";let oF=(0,f.memo)(oV),oq={[l.Arrow]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e}};return(0,h.jsx)("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[l.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e,fill:e}};return(0,h.jsx)("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},oX=({id:e,type:t,color:n,width:o=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{let l=function(e){let t=nD();return(0,f.useMemo)(()=>Object.prototype.hasOwnProperty.call(oq,e)?oq[e]:(t.getState().onError?.("009",tn.error009(e)),null),[e])}(t);return l?(0,h.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:(0,h.jsx)(l,{color:n,strokeWidth:a})}):null},oY=({defaultColor:e,rfId:t})=>{let n=nR(e=>e.edges),o=nR(e=>e.defaultEdgeOptions),r=(0,f.useMemo)(()=>(function(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:r}){let i=new Set;return e.reduce((e,a)=>([a.markerStart||o,a.markerEnd||r].forEach(o=>{if(o&&"object"==typeof o){let r=no(o,t);i.has(r)||(e.push({id:r,color:o.color||n,...o}),i.add(r))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))})(n,{id:t,defaultColor:e,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[n,o,t,e]);return r.length?(0,h.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,h.jsx)("defs",{children:r.map(e=>(0,h.jsx)(oX,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};oY.displayName="MarkerDefinitions";var oZ=(0,f.memo)(oY);function oW({x:e,y:t,label:n,labelStyle:o,labelShowBg:r=!0,labelBgStyle:i,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:d,...c}){let[u,p]=(0,f.useState)({x:1,y:0,width:0,height:0}),m=nb(["react-flow__edge-textwrapper",d]),g=(0,f.useRef)(null);return n?(0,h.jsxs)("g",{transform:`translate(${e-u.width/2} ${t-u.height/2})`,className:m,visibility:u.width?"visible":"hidden",...c,children:[r&&(0,h.jsx)("rect",{width:u.width+2*a[0],x:-a[0],y:-a[1],height:u.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),(0,h.jsx)("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:g,style:o,children:n}),l]}):null}oW.displayName="EdgeText";let oK=(0,f.memo)(oW);function oU({path:e,labelX:t,labelY:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:d=20,...c}){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("path",{...c,d:e,fill:"none",className:nb(["react-flow__edge-path",c.className])}),d?(0,h.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,o&&tI(t)&&tI(n)?(0,h.jsx)(oK,{x:t,y:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function oQ({pos:e,x1:t,y1:n,x2:o,y2:r}){return e===d.Left||e===d.Right?[.5*(t+o),n]:[t,.5*(n+r)]}function oG({sourceX:e,sourceY:t,sourcePosition:n=d.Bottom,targetX:o,targetY:r,targetPosition:i=d.Top}){let[a,s]=oQ({pos:n,x1:e,y1:t,x2:o,y2:r}),[l,c]=oQ({pos:i,x1:o,y1:r,x2:e,y2:t}),[u,h,f,p]=tU({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${s} ${l},${c} ${o},${r}`,u,h,f,p]}function oJ(e){return(0,f.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:a,targetPosition:s,label:l,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:x,interactionWidth:y})=>{let[v,b,w]=oG({sourceX:n,sourceY:o,sourcePosition:a,targetX:r,targetY:i,targetPosition:s}),N=e.isInternal?void 0:t;return(0,h.jsx)(oU,{id:N,path:v,labelX:b,labelY:w,label:l,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:x,interactionWidth:y})})}let o0=oJ({isInternal:!1}),o1=oJ({isInternal:!0});function o2(e){return(0,f.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:p,sourcePosition:m=d.Bottom,targetPosition:g=d.Top,markerEnd:x,markerStart:y,pathOptions:v,interactionWidth:b})=>{let[w,N,_]=t9({sourceX:n,sourceY:o,sourcePosition:m,targetX:r,targetY:i,targetPosition:g,borderRadius:v?.borderRadius,offset:v?.offset,stepPosition:v?.stepPosition}),j=e.isInternal?void 0:t;return(0,h.jsx)(oU,{id:j,path:w,labelX:N,labelY:_,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:x,markerStart:y,interactionWidth:b})})}o0.displayName="SimpleBezierEdge",o1.displayName="SimpleBezierEdgeInternal";let o3=o2({isInternal:!1}),o4=o2({isInternal:!0});function o5(e){return(0,f.memo)(({id:t,...n})=>{let o=e.isInternal?void 0:t;return(0,h.jsx)(o3,{...n,id:o,pathOptions:(0,f.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}o3.displayName="SmoothStepEdge",o4.displayName="SmoothStepEdgeInternal";let o6=o5({isInternal:!1}),o7=o5({isInternal:!0});function o9(e){return(0,f.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:p,markerStart:m,interactionWidth:g})=>{let[x,y,v]=t4({sourceX:n,sourceY:o,targetX:r,targetY:i}),b=e.isInternal?void 0:t;return(0,h.jsx)(oU,{id:b,path:x,labelX:y,labelY:v,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:p,markerStart:m,interactionWidth:g})})}o6.displayName="StepEdge",o7.displayName="StepEdgeInternal";let o8=o9({isInternal:!1}),re=o9({isInternal:!0});function rt(e){return(0,f.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:a=d.Bottom,targetPosition:s=d.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:y,pathOptions:v,interactionWidth:b})=>{let[w,N,_]=tJ({sourceX:n,sourceY:o,sourcePosition:a,targetX:r,targetY:i,targetPosition:s,curvature:v?.curvature}),j=e.isInternal?void 0:t;return(0,h.jsx)(oU,{id:j,path:w,labelX:N,labelY:_,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:y,interactionWidth:b})})}o8.displayName="StraightEdge",re.displayName="StraightEdgeInternal";let rn=rt({isInternal:!1}),ro=rt({isInternal:!0});rn.displayName="BezierEdge",ro.displayName="BezierEdgeInternal";let rr={default:ro,straight:re,step:o7,smoothstep:o4,simplebezier:o1},ri={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ra=(e,t,n)=>n===d.Left?e-t:n===d.Right?e+t:e,rs=(e,t,n)=>n===d.Top?e-t:n===d.Bottom?e+t:e,rl="react-flow__edgeupdater";function rd({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:r,onMouseEnter:i,onMouseOut:a,type:s}){return(0,h.jsx)("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:a,className:nb([rl,`${rl}-${s}`]),cx:ra(t,o,e),cy:rs(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function rc({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:r,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:d,onReconnectStart:c,onReconnectEnd:u,setReconnecting:f,setUpdateHover:p}){let m=nD(),g=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:o,domNode:r,isValidConnection:i,connectionMode:a,connectionRadius:s,lib:l,onConnectStart:h,onConnectEnd:p,cancelConnection:g,nodeLookup:x,rfId:y,panBy:v,updateConnection:b}=m.getState(),w="target"===t.type;nv.onPointerDown(e.nativeEvent,{autoPanOnConnect:o,connectionMode:a,connectionRadius:s,domNode:r,handleId:t.id,nodeId:t.nodeId,nodeLookup:x,isTarget:w,edgeUpdaterType:t.type,lib:l,flowId:y,cancelConnection:g,panBy:v,isValidConnection:i,onConnect:e=>d?.(n,e),onConnectStart:(o,r)=>{f(!0),c?.(e,n,t.type),h?.(o,r)},onConnectEnd:p,onReconnectEnd:(e,o)=>{f(!1),u?.(e,n,t.type,o)},updateConnection:b,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold,handleDomNode:e.currentTarget})},x=()=>p(!0),y=()=>p(!1);return(0,h.jsxs)(h.Fragment,{children:[(!0===e||"source"===e)&&(0,h.jsx)(rd,{position:s,centerX:o,centerY:r,radius:t,onMouseDown:e=>g(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:x,onMouseOut:y,type:"source"}),(!0===e||"target"===e)&&(0,h.jsx)(rd,{position:l,centerX:i,centerY:a,radius:t,onMouseDown:e=>g(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:x,onMouseOut:y,type:"target"})]})}var ru=(0,f.memo)(function({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:i,onDoubleClick:a,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:x,rfId:y,edgeTypes:v,noPanClassName:b,onError:w,disableKeyboardA11y:N}){let _=nR(t=>t.edgeLookup.get(e)),j=nR(e=>e.defaultEdgeOptions),S=(_=j?{...j,..._}:_).type||"default",C=v?.[S]||rr[S];void 0===C&&(w?.("011",tn.error011(S)),S="default",C=v?.default||rr.default);let k=!!(_.focusable||t&&void 0===_.focusable),M=void 0!==m&&(_.reconnectable||n&&void 0===_.reconnectable),A=!!(_.selectable||o&&void 0===_.selectable),E=(0,f.useRef)(null),[P,I]=(0,f.useState)(!1),[$,R]=(0,f.useState)(!1),D=nD(),{zIndex:O,sourceX:z,sourceY:L,targetX:B,targetY:H,sourcePosition:T,targetPosition:V}=nR((0,f.useCallback)(t=>{let n=t.nodeLookup.get(_.source),o=t.nodeLookup.get(_.target);if(!n||!o)return{zIndex:_.zIndex,...ri};let i=function(e){let{sourceNode:t,targetNode:n}=e;if(!t8(t)||!t8(n))return null;let o=t.internals.handleBounds||ne(t.handles),i=n.internals.handleBounds||ne(n.handles),a=nn(o?.source??[],e.sourceHandle),s=nn(e.connectionMode===r.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!a||!s)return e.onError?.("008",tn.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let l=a?.position||d.Bottom,c=s?.position||d.Top,u=nt(t,a,l),h=nt(n,s,c);return{sourceX:u.x,sourceY:u.y,targetX:h.x,targetY:h.y,sourcePosition:l,targetPosition:c}}({id:e,sourceNode:n,targetNode:o,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:t.connectionMode,onError:w});return{zIndex:function({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o=0,elevateOnSelect:r=!1,zIndexMode:i="basic"}){if("manual"===i)return o;let a=Math.max(e.parentId||r&&e.selected?e.internals.z:0,t.parentId||r&&t.selected?t.internals.z:0);return(r&&n?o+1e3:o)+a}({selected:_.selected,zIndex:_.zIndex,sourceNode:n,targetNode:o,elevateOnSelect:t.elevateEdgesOnSelect,zIndexMode:t.zIndexMode}),...i||ri}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),nE),F=(0,f.useMemo)(()=>_.markerStart?`url('#${no(_.markerStart,y)}')`:void 0,[_.markerStart,y]),q=(0,f.useMemo)(()=>_.markerEnd?`url('#${no(_.markerEnd,y)}')`:void 0,[_.markerEnd,y]);if(_.hidden||null===z||null===L||null===B||null===H)return null;let X=a?e=>{a(e,{..._})}:void 0,Y=s?e=>{s(e,{..._})}:void 0,Z=l?e=>{l(e,{..._})}:void 0,W=c?e=>{c(e,{..._})}:void 0,K=u?e=>{u(e,{..._})}:void 0;return(0,h.jsx)("svg",{style:{zIndex:O},children:(0,h.jsxs)("g",{className:nb(["react-flow__edge",`react-flow__edge-${S}`,_.className,b,{selected:_.selected,animated:_.animated,inactive:!A&&!i,updating:P,selectable:A}]),onClick:t=>{let{addSelectedEdges:n,unselectNodesAndEdges:o,multiSelectionActive:r}=D.getState();A&&(D.setState({nodesSelectionActive:!1}),_.selected&&r?(o({nodes:[],edges:[_]}),E.current?.blur()):n([e])),i&&i(t,_)},onDoubleClick:X,onContextMenu:Y,onMouseEnter:Z,onMouseMove:W,onMouseLeave:K,onKeyDown:k?t=>{if(!N&&tr.includes(t.key)&&A){let{unselectNodesAndEdges:n,addSelectedEdges:o}=D.getState();"Escape"===t.key?(E.current?.blur(),n({edges:[_]})):o([e])}}:void 0,tabIndex:k?0:void 0,role:_.ariaRole??(k?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===_.ariaLabel?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":k?`${nB}-${y}`:void 0,ref:E,..._.domAttributes,children:[!$&&(0,h.jsx)(C,{id:e,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:A,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:z,sourceY:L,targetX:B,targetY:H,sourcePosition:T,targetPosition:V,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:F,markerEnd:q,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),M&&(0,h.jsx)(rc,{edge:_,isReconnectable:M,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:x,sourceX:z,sourceY:L,targetX:B,targetY:H,sourcePosition:T,targetPosition:V,setUpdateHover:I,setReconnecting:R})]})})});let rh=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function rf({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:r,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:d,onEdgeClick:c,reconnectRadius:u,onEdgeDoubleClick:p,onReconnectStart:m,onReconnectEnd:g,disableKeyboardA11y:x}){let{edgesFocusable:y,edgesReconnectable:v,elementsSelectable:b,onError:w}=nR(rh,nE),N=nR((0,f.useCallback)(e=>{if(!t)return e.edges.map(e=>e.id);let n=[];if(e.width&&e.height)for(let t of e.edges){let o=e.nodeLookup.get(t.source),r=e.nodeLookup.get(t.target);o&&r&&function({sourceNode:e,targetNode:t,width:n,height:o,transform:r}){let i=tj(tM(e),tM(t));return i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1),tE({x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:o/r[2]},tC(i))>0}({sourceNode:o,targetNode:r,width:e.width,height:e.height,transform:e.transform})&&n.push(t.id)}return n},[t]),nE);return(0,h.jsxs)("div",{className:"react-flow__edges",children:[(0,h.jsx)(oZ,{defaultColor:e,rfId:n}),N.map(e=>(0,h.jsx)(ru,{id:e,edgesFocusable:y,edgesReconnectable:v,elementsSelectable:b,noPanClassName:r,onReconnect:i,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:d,onClick:c,reconnectRadius:u,onDoubleClick:p,onReconnectStart:m,onReconnectEnd:g,rfId:n,onError:w,edgeTypes:o,disableKeyboardA11y:x},e))]})}rf.displayName="EdgeRenderer";let rp=(0,f.memo)(rf),rm=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rg({children:e}){let t=nR(rm);return(0,h.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}let rx=e=>e.panZoom?.syncViewport;function ry(e){return e.connection.inProgress?{...e.connection,to:tD(e.connection.to,e.transform)}:{...e.connection}}let rv=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function rb({containerStyle:e,style:t,type:n,component:o}){let{nodesConnectable:r,width:i,height:a,isValid:s,inProgress:l}=nR(rv,nE);return i&&r&&l?(0,h.jsx)("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:(0,h.jsx)("g",{className:nb(["react-flow__connection",tl(s)]),children:(0,h.jsx)(rw,{style:t,type:n,CustomComponent:o,isValid:s})})}):null}let rw=({style:e,type:t=s.Bezier,CustomComponent:n,isValid:o})=>{var r;let{inProgress:i,from:a,fromNode:l,fromHandle:d,fromPosition:c,to:u,toNode:f,toHandle:p,toPosition:m,pointer:g}=nR(ry,nE);if(!i)return;if(n)return(0,h.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:d,fromX:a.x,fromY:a.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:m,connectionStatus:tl(o),toNode:f,toHandle:p,pointer:g});let x="",y={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:m};switch(t){case s.Bezier:[x]=tJ(y);break;case s.SimpleBezier:[x]=oG(y);break;case s.Step:[x]=t9({...y,borderRadius:0});break;case s.SmoothStep:[x]=t9(y);break;default:[x]=t4(y)}return(0,h.jsx)("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};rw.displayName="ConnectionLine";let rN={};function r_(e=rN){(0,f.useRef)(e),nD()}function rj({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:r,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:d,onNodeContextMenu:c,onSelectionContextMenu:u,onSelectionStart:p,onSelectionEnd:m,connectionLineType:g,connectionLineStyle:x,connectionLineComponent:y,connectionLineContainerStyle:v,selectionKeyCode:b,selectionOnDrag:w,selectionMode:N,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:S,deleteKeyCode:C,onlyRenderVisibleElements:k,elementsSelectable:M,defaultViewport:A,translateExtent:E,minZoom:P,maxZoom:I,preventScrolling:$,defaultMarkerColor:R,zoomOnScroll:D,zoomOnPinch:O,panOnScroll:z,panOnScrollSpeed:L,panOnScrollMode:B,zoomOnDoubleClick:H,panOnDrag:T,onPaneClick:V,onPaneMouseEnter:F,onPaneMouseMove:q,onPaneMouseLeave:X,onPaneScroll:Y,onPaneContextMenu:Z,paneClickDistance:W,nodeClickDistance:K,onEdgeContextMenu:U,onEdgeMouseEnter:Q,onEdgeMouseMove:G,onEdgeMouseLeave:J,reconnectRadius:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:eo,noDragClassName:er,noWheelClassName:ei,noPanClassName:ea,disableKeyboardA11y:es,nodeExtent:el,rfId:ed,viewport:ec,onViewportChange:eu}){return r_(e),r_(t),nD(),(0,f.useRef)(!1),oc(),(0,f.useRef)(!1),nR(rx),nD(),(0,h.jsx)(oz,{onPaneClick:V,onPaneMouseEnter:F,onPaneMouseMove:q,onPaneMouseLeave:X,onPaneContextMenu:Z,onPaneScroll:Y,paneClickDistance:W,deleteKeyCode:C,selectionKeyCode:b,selectionOnDrag:w,selectionMode:N,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:S,elementsSelectable:M,zoomOnScroll:D,zoomOnPinch:O,zoomOnDoubleClick:H,panOnScroll:z,panOnScrollSpeed:L,panOnScrollMode:B,panOnDrag:T,defaultViewport:A,translateExtent:E,minZoom:P,maxZoom:I,onSelectionContextMenu:u,preventScrolling:$,noDragClassName:er,noWheelClassName:ei,noPanClassName:ea,disableKeyboardA11y:es,onViewportChange:eu,isControlledViewport:!!ec,children:(0,h.jsxs)(rg,{children:[(0,h.jsx)(rp,{edgeTypes:t,onEdgeClick:r,onEdgeDoubleClick:a,onReconnect:et,onReconnectStart:en,onReconnectEnd:eo,onlyRenderVisibleElements:k,onEdgeContextMenu:U,onEdgeMouseEnter:Q,onEdgeMouseMove:G,onEdgeMouseLeave:J,reconnectRadius:ee,defaultMarkerColor:R,noPanClassName:ea,disableKeyboardA11y:es,rfId:ed}),(0,h.jsx)(rb,{style:x,type:g,component:y,containerStyle:v}),(0,h.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,h.jsx)(oF,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:i,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:d,onNodeContextMenu:c,nodeClickDistance:K,onlyRenderVisibleElements:k,noPanClassName:ea,noDragClassName:er,disableKeyboardA11y:es,nodeExtent:el,rfId:ed}),(0,h.jsx)("div",{className:"react-flow__viewport-portal"})]})})}rj.displayName="GraphView";let rS=(0,f.memo)(rj),rC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:d=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:h,zIndexMode:f="basic"}={})=>{let p=new Map,m=new Map,g=new Map,x=new Map,y=o??t??[],v=n??e??[],b=u??[0,0],w=h??to;np(g,x,y);let N=nl(v,p,m,{nodeOrigin:b,nodeExtent:w,zIndexMode:f}),_=[0,0,1];if(s&&i&&a){let{x:e,y:t,zoom:n}=tL(tp(p,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),i,a,d,c,l?.padding??.1);_=[e,t,n]}return{rfId:"1",width:i??0,height:a??0,transform:_,nodes:v,nodesInitialized:N,nodeLookup:p,parentLookup:m,edges:y,edgeLookup:x,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==o,panZoom:null,minZoom:d,maxZoom:c,translateExtent:to,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...ta},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:t$,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:ti,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},rk=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:h,zIndexMode:f})=>nA((p,m)=>{async function g(){let{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:o,width:r,height:i,minZoom:a,maxZoom:s}=m();t&&(await tx({nodes:e,width:r,height:i,panZoom:t,minZoom:a,maxZoom:s},n),o?.resolve(!0),p({fitViewResolver:null}))}return{...rC({nodes:e,edges:t,width:r,height:i,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:h,defaultNodes:n,defaultEdges:o,zIndexMode:f}),setNodes:e=>{let{nodeLookup:t,parentLookup:n,nodeOrigin:o,elevateNodesOnSelect:r,fitViewQueued:i,zIndexMode:a}=m(),s=nl(e,t,n,{nodeOrigin:o,nodeExtent:h,elevateNodesOnSelect:r,checkEquality:!0,zIndexMode:a});i&&s?(g(),p({nodes:e,nodesInitialized:s,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:e,nodesInitialized:s})},setEdges:e=>{let{connectionLookup:t,edgeLookup:n}=m();np(t,n,e),p({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){let{setNodes:t}=m();t(e),p({hasDefaultNodes:!0})}if(t){let{setEdges:e}=m();e(t),p({hasDefaultEdges:!0})}},updateNodeInternals:e=>{let{triggerNodeChanges:t,nodeLookup:n,parentLookup:o,domNode:r,nodeOrigin:i,nodeExtent:a,debug:s,fitViewQueued:l,zIndexMode:d}=m(),{changes:c,updatedInternals:u}=function(e,t,n,o,r,i,a){let s=o?.querySelector(".xyflow__viewport"),l=!1;if(!s)return{changes:[],updatedInternals:l};let d=[],c=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(c.transform),h=[];for(let o of e.values()){let e=t.get(o.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),l=!0;continue}let s=tq(o.nodeElement),c=e.measured.width!==s.width||e.measured.height!==s.height;if(s.width&&s.height&&(c||!e.internals.handleBounds||o.force)){let f=o.nodeElement.getBoundingClientRect(),p=tH(e.extent)?e.extent:i,{positionAbsolute:m}=e.internals;e.parentId&&"parent"===e.extent?m=tw(m,s,t.get(e.parentId)):p&&(m=tb(m,p,s));let g={...e,measured:s,internals:{...e.internals,positionAbsolute:m,handleBounds:{source:tK("source",o.nodeElement,f,u,e.id),target:tK("target",o.nodeElement,f,u,e.id)}}};t.set(e.id,g),e.parentId&&nd(g,t,n,{nodeOrigin:r,zIndexMode:a}),l=!0,c&&(d.push({id:e.id,type:"dimensions",dimensions:s}),e.expandParent&&e.parentId&&h.push({id:e.id,parentId:e.parentId,rect:tk(g,r)}))}}if(h.length>0){let e=nu(h,t,n,r);d.push(...e)}return{changes:d,updatedInternals:l}}(e,n,o,r,i,a,d);u&&(function(e,t,n){let o=na(nr,n);for(let n of e.values())if(n.parentId)nd(n,e,t,o);else{let e=tb(th(n,o.nodeOrigin),tH(n.extent)?n.extent:o.nodeExtent,tT(n));n.internals.positionAbsolute=e}}(n,o,{nodeOrigin:i,nodeExtent:a,zIndexMode:d}),l?(g(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),c?.length>0&&(s&&console.log("React Flow: trigger node changes",c),t?.(c)))},updateNodePositions:(e,t=!1)=>{let n=[],o=[],{nodeLookup:r,triggerNodeChanges:i,connection:a,updateConnection:s,onNodesChangeMiddlewareMap:l}=m();for(let[i,l]of e){let e=r.get(i),c=!!(e?.expandParent&&e?.parentId&&l?.position),u={id:i,type:"position",position:c?{x:Math.max(0,l.position.x),y:Math.max(0,l.position.y)}:l.position,dragging:t};if(e&&a.inProgress&&a.fromNode.id===e.id){let t=nt(e,a.fromHandle,d.Left,!0);s({...a,from:t})}c&&e.parentId&&n.push({id:i,parentId:e.parentId,rect:{...l.internals.positionAbsolute,width:l.measured.width??0,height:l.measured.height??0}}),o.push(u)}if(n.length>0){let{parentLookup:e,nodeOrigin:t}=m(),i=nu(n,r,e,t);o.push(...i)}for(let e of l.values())o=e(o);i(o)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:o,hasDefaultNodes:r,debug:i}=m();e?.length&&(r&&n(n7(e,o)),i&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:o,hasDefaultEdges:r,debug:i}=m();e?.length&&(r&&n(n7(e,o)),i&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:r,triggerEdgeChanges:i}=m();if(t){r(e.map(e=>n9(e,!0)));return}r(n8(o,new Set([...e]),!0)),i(n8(n))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:r,triggerEdgeChanges:i}=m();if(t){i(e.map(e=>n9(e,!0)));return}i(n8(n,new Set([...e]))),r(n8(o,new Set,!0))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{let{edges:n,nodes:o,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:a}=m(),s=(e||o).map(e=>{let t=r.get(e.id);return t&&(t.selected=!1),n9(e.id,!1)}),l=(t||n).map(e=>n9(e.id,!1));i(s),a(l)},setMinZoom:e=>{let{panZoom:t,maxZoom:n}=m();t?.setScaleExtent([e,n]),p({minZoom:e})},setMaxZoom:e=>{let{panZoom:t,minZoom:n}=m();t?.setScaleExtent([n,e]),p({maxZoom:e})},setTranslateExtent:e=>{m().panZoom?.setTranslateExtent(e),p({translateExtent:e})},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:o,elementsSelectable:r}=m();if(!r)return;let i=t.reduce((e,t)=>t.selected?[...e,n9(t.id,!1)]:e,[]),a=e.reduce((e,t)=>t.selected?[...e,n9(t.id,!1)]:e,[]);n(i),o(a)},setNodeExtent:e=>{let{nodes:t,nodeLookup:n,parentLookup:o,nodeOrigin:r,elevateNodesOnSelect:i,nodeExtent:a,zIndexMode:s}=m();(e[0][0]!==a[0][0]||e[0][1]!==a[0][1]||e[1][0]!==a[1][0]||e[1][1]!==a[1][1])&&(nl(t,n,o,{nodeOrigin:r,nodeExtent:e,elevateNodesOnSelect:i,checkEquality:!1,zIndexMode:s}),p({nodeExtent:e}))},panBy:e=>{let{transform:t,width:n,height:o,panZoom:r,translateExtent:i}=m();return nh({delta:e,panZoom:r,transform:t,translateExtent:i,width:n,height:o})},setCenter:async(e,t,n)=>{let{width:o,height:r,maxZoom:i,panZoom:a}=m();if(!a)return Promise.resolve(!1);let s=void 0!==n?.zoom?n.zoom:i;return await a.setViewport({x:o/2-e*s,y:r/2-t*s,zoom:s},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...ta}})},updateConnection:e=>{p({connection:e})},reset:()=>p({...rC()})}},Object.is);function rM({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:r,initialHeight:i,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:l,fitView:d,nodeOrigin:c,nodeExtent:u,zIndexMode:p,children:m}){let[g]=(0,f.useState)(()=>rk({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:d,minZoom:a,maxZoom:s,fitViewOptions:l,nodeOrigin:c,nodeExtent:u,zIndexMode:p}));return(0,h.jsx)(nI,{value:g,children:(0,h.jsx)(ol,{children:m})})}function rA({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:r,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:p,zIndexMode:m}){return(0,f.useContext)(nP)?(0,h.jsx)(h.Fragment,{children:e}):(0,h.jsx)(rM,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:r,initialWidth:i,initialHeight:a,fitView:s,initialFitViewOptions:l,initialMinZoom:d,initialMaxZoom:c,nodeOrigin:u,nodeExtent:p,zIndexMode:m,children:e})}let rE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var rP=or(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:r,nodeTypes:l,edgeTypes:d,onNodeClick:c,onEdgeClick:u,onInit:p,onMove:m,onMoveStart:g,onMoveEnd:x,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:N,onNodeMouseEnter:_,onNodeMouseMove:j,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:k,onNodeDragStart:M,onNodeDrag:A,onNodeDragStop:E,onNodesDelete:P,onEdgesDelete:I,onDelete:$,onSelectionChange:R,onSelectionDragStart:D,onSelectionDrag:O,onSelectionDragStop:z,onSelectionContextMenu:L,onSelectionStart:B,onSelectionEnd:H,onBeforeDelete:T,connectionMode:V,connectionLineType:F=s.Bezier,connectionLineStyle:q,connectionLineComponent:X,connectionLineContainerStyle:Y,deleteKeyCode:Z="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:K=!1,selectionMode:U=a.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:G=tB()?"Meta":"Control",zoomActivationKeyCode:J=tB()?"Meta":"Control",snapToGrid:ee,snapGrid:et,onlyRenderVisibleElements:en=!1,selectNodesOnDrag:eo,nodesDraggable:er,autoPanOnNodeFocus:ei,nodesConnectable:ea,nodesFocusable:es,nodeOrigin:el=nG,edgesFocusable:ed,edgesReconnectable:ec,elementsSelectable:eu=!0,defaultViewport:eh=nJ,minZoom:ef=.5,maxZoom:ep=2,translateExtent:em=to,preventScrolling:eg=!0,nodeExtent:ex,defaultMarkerColor:ey="#b1b1b7",zoomOnScroll:ev=!0,zoomOnPinch:eb=!0,panOnScroll:ew=!1,panOnScrollSpeed:eN=.5,panOnScrollMode:e_=i.Free,zoomOnDoubleClick:ej=!0,panOnDrag:eS=!0,onPaneClick:eC,onPaneMouseEnter:ek,onPaneMouseMove:eM,onPaneMouseLeave:eA,onPaneScroll:eE,onPaneContextMenu:eP,paneClickDistance:eI=1,nodeClickDistance:e$=0,children:eR,onReconnect:eD,onReconnectStart:eO,onReconnectEnd:ez,onEdgeContextMenu:eL,onEdgeDoubleClick:eB,onEdgeMouseEnter:eH,onEdgeMouseMove:eT,onEdgeMouseLeave:eV,reconnectRadius:eF=10,onNodesChange:eq,onEdgesChange:eX,noDragClassName:eY="nodrag",noWheelClassName:eZ="nowheel",noPanClassName:eW="nopan",fitView:eK,fitViewOptions:eU,connectOnClick:eQ,attributionPosition:eG,proOptions:eJ,defaultEdgeOptions:e0,elevateNodesOnSelect:e1=!0,elevateEdgesOnSelect:e2=!1,disableKeyboardA11y:e3=!1,autoPanOnConnect:e4,autoPanOnNodeDrag:e5,autoPanSpeed:e6,connectionRadius:e7,isValidConnection:e9,onError:e8,style:te,id:tt,nodeDragThreshold:tn,connectionDragThreshold:tr,viewport:ti,onViewportChange:ta,width:ts,height:tl,colorMode:td="light",debug:tc,onScroll:tu,ariaLabelConfig:th,zIndexMode:tf="basic",...tp},tm){let tg=tt||"1",tx=function(e){let[t,n]=(0,f.useState)("system"===e?null:e);return null!==t?t:"light"}(td),ty=(0,f.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),tu?.(e)},[tu]);return(0,h.jsx)("div",{"data-testid":"rf__wrapper",...tp,onScroll:ty,style:{...te,...rE},ref:tm,className:nb(["react-flow",r,tx]),id:tt,role:"application",children:(0,h.jsxs)(rA,{nodes:e,edges:t,width:ts,height:tl,fitView:eK,fitViewOptions:eU,minZoom:ef,maxZoom:ep,nodeOrigin:el,nodeExtent:ex,zIndexMode:tf,children:[(0,h.jsx)(rS,{onInit:p,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:_,onNodeMouseMove:j,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:k,nodeTypes:l,edgeTypes:d,connectionLineType:F,connectionLineStyle:q,connectionLineComponent:X,connectionLineContainerStyle:Y,selectionKeyCode:W,selectionOnDrag:K,selectionMode:U,deleteKeyCode:Z,multiSelectionKeyCode:G,panActivationKeyCode:Q,zoomActivationKeyCode:J,onlyRenderVisibleElements:en,defaultViewport:eh,translateExtent:em,minZoom:ef,maxZoom:ep,preventScrolling:eg,zoomOnScroll:ev,zoomOnPinch:eb,zoomOnDoubleClick:ej,panOnScroll:ew,panOnScrollSpeed:eN,panOnScrollMode:e_,panOnDrag:eS,onPaneClick:eC,onPaneMouseEnter:ek,onPaneMouseMove:eM,onPaneMouseLeave:eA,onPaneScroll:eE,onPaneContextMenu:eP,paneClickDistance:eI,nodeClickDistance:e$,onSelectionContextMenu:L,onSelectionStart:B,onSelectionEnd:H,onReconnect:eD,onReconnectStart:eO,onReconnectEnd:ez,onEdgeContextMenu:eL,onEdgeDoubleClick:eB,onEdgeMouseEnter:eH,onEdgeMouseMove:eT,onEdgeMouseLeave:eV,reconnectRadius:eF,defaultMarkerColor:ey,noDragClassName:eY,noWheelClassName:eZ,noPanClassName:eW,rfId:tg,disableKeyboardA11y:e3,nodeExtent:ex,viewport:ti,onViewportChange:ta}),(0,h.jsx)(n3,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:y,onConnectStart:v,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:N,nodesDraggable:er,autoPanOnNodeFocus:ei,nodesConnectable:ea,nodesFocusable:es,edgesFocusable:ed,edgesReconnectable:ec,elementsSelectable:eu,elevateNodesOnSelect:e1,elevateEdgesOnSelect:e2,minZoom:ef,maxZoom:ep,nodeExtent:ex,onNodesChange:eq,onEdgesChange:eX,snapToGrid:ee,snapGrid:et,connectionMode:V,translateExtent:em,connectOnClick:eQ,defaultEdgeOptions:e0,fitView:eK,fitViewOptions:eU,onNodesDelete:P,onEdgesDelete:I,onDelete:$,onNodeDragStart:M,onNodeDrag:A,onNodeDragStop:E,onSelectionDrag:O,onSelectionDragStart:D,onSelectionDragStop:z,onMove:m,onMoveStart:g,onMoveEnd:x,noPanClassName:eW,nodeOrigin:el,rfId:tg,autoPanOnConnect:e4,autoPanOnNodeDrag:e5,autoPanSpeed:e6,onError:e8,connectionRadius:e7,isValidConnection:e9,selectNodesOnDrag:eo,nodeDragThreshold:tn,connectionDragThreshold:tr,onBeforeDelete:T,debug:tc,ariaLabelConfig:th,zIndexMode:tf}),(0,h.jsx)(nQ,{onSelectionChange:R}),eR,(0,h.jsx)(nX,{proOptions:eJ,position:eG}),(0,h.jsx)(nF,{rfId:tg,disableKeyboardA11y:e3})]})})});function rI({dimensions:e,lineWidth:t,variant:n,className:o}){return(0,h.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:nb(["react-flow__background-pattern",n,o])})}function r$({radius:e,className:t}){return(0,h.jsx)("circle",{cx:e,cy:e,r:e,className:nb(["react-flow__background-pattern","dots",t])})}tn.error014(),function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(u||(u={}));let rR={[u.Dots]:1,[u.Lines]:1,[u.Cross]:6},rD=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function rO({id:e,variant:t=u.Dots,gap:n=20,size:o,lineWidth:r=1,offset:i=0,color:a,bgColor:s,style:l,className:d,patternClassName:c}){let p=(0,f.useRef)(null),{transform:m,patternId:g}=nR(rD,nE),x=o||rR[t],y=t===u.Dots,v=t===u.Cross,b=Array.isArray(n)?n:[n,n],w=[b[0]*m[2]||1,b[1]*m[2]||1],N=x*m[2],_=Array.isArray(i)?i:[i,i],j=v?[N,N]:w,S=[_[0]*m[2]||1+j[0]/2,_[1]*m[2]||1+j[1]/2],C=`${g}${e||""}`;return(0,h.jsxs)("svg",{className:nb(["react-flow__background",d]),style:{...l,...oh,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:p,"data-testid":"rf__background",children:[(0,h.jsx)("pattern",{id:C,x:m[0]%w[0],y:m[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:y?(0,h.jsx)(r$,{radius:N/2,className:c}):(0,h.jsx)(rI,{dimensions:j,lineWidth:r,variant:t,className:c})}),(0,h.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}rO.displayName="Background";let rz=(0,f.memo)(rO);function rL(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,h.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function rB(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,h.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function rH(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,h.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function rT(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,h.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function rV(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,h.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function rF({children:e,className:t,...n}){return(0,h.jsx)("button",{type:"button",className:nb(["react-flow__controls-button",t]),...n,children:e})}let rq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function rX({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:d,children:c,position:u="bottom-left",orientation:f="vertical","aria-label":p}){let m=nD(),{isInteractive:g,minZoomReached:x,maxZoomReached:y,ariaLabelConfig:v}=nR(rq,nE),{zoomIn:b,zoomOut:w,fitView:N}=oc();return(0,h.jsxs)(nq,{className:nb(["react-flow__controls","horizontal"===f?"horizontal":"vertical",d]),position:u,style:e,"data-testid":"rf__controls","aria-label":p??v["controls.ariaLabel"],children:[t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(rF,{onClick:()=>{b(),i?.()},className:"react-flow__controls-zoomin",title:v["controls.zoomIn.ariaLabel"],"aria-label":v["controls.zoomIn.ariaLabel"],disabled:y,children:(0,h.jsx)(rL,{})}),(0,h.jsx)(rF,{onClick:()=>{w(),a?.()},className:"react-flow__controls-zoomout",title:v["controls.zoomOut.ariaLabel"],"aria-label":v["controls.zoomOut.ariaLabel"],disabled:x,children:(0,h.jsx)(rB,{})})]}),n&&(0,h.jsx)(rF,{className:"react-flow__controls-fitview",onClick:()=>{N(r),s?.()},title:v["controls.fitView.ariaLabel"],"aria-label":v["controls.fitView.ariaLabel"],children:(0,h.jsx)(rH,{})}),o&&(0,h.jsx)(rF,{className:"react-flow__controls-interactive",onClick:()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l?.(!g)},title:v["controls.interactive.ariaLabel"],"aria-label":v["controls.interactive.ariaLabel"],children:g?(0,h.jsx)(rV,{}):(0,h.jsx)(rT,{})}),c]})}rX.displayName="Controls";let rY=(0,f.memo)(rX),rZ=(0,f.memo)(function({id:e,x:t,y:n,width:o,height:r,style:i,color:a,strokeColor:s,strokeWidth:l,className:d,borderRadius:c,shapeRendering:u,selected:f,onClick:p}){let{background:m,backgroundColor:g}=i||{};return(0,h.jsx)("rect",{className:nb(["react-flow__minimap-node",{selected:f},d]),x:t,y:n,rx:c,ry:c,width:o,height:r,style:{fill:a||m||g,stroke:s,strokeWidth:l},shapeRendering:u,onClick:p?t=>p(t,e):void 0})}),rW=e=>e.nodes.map(e=>e.id),rK=e=>e instanceof Function?e:()=>e,rU=(0,f.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:r,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:s,onClick:l}){let{node:d,x:c,y:u,width:f,height:p}=nR(t=>{let{internals:n}=t.nodeLookup.get(e),o=n.userNode,{x:r,y:i}=n.positionAbsolute,{width:a,height:s}=tT(o);return{node:o,x:r,y:i,width:a,height:s}},nE);return d&&!d.hidden&&tV(d)?(0,h.jsx)(s,{x:c,y:u,width:f,height:p,style:d.style,selected:!!d.selected,className:o(d),color:t(d),borderRadius:r,strokeColor:n(d),strokeWidth:i,shapeRendering:a,onClick:l,id:d.id}):null});var rQ=(0,f.memo)(function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:r,nodeComponent:i=rZ,onClick:a}){let s=nR(rW,nE),l=rK(t),d=rK(e),c=rK(n);return(0,h.jsx)(h.Fragment,{children:s.map(e=>(0,h.jsx)(rU,{id:e,nodeColorFunc:l,nodeStrokeColorFunc:d,nodeClassNameFunc:c,nodeBorderRadius:o,nodeStrokeWidth:r,NodeComponent:i,onClick:a,shapeRendering:"crispEdges"},e))})});let rG=e=>!e.hidden,rJ=e=>{let t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?tA(tp(e.nodeLookup,{filter:rG}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}};function r0({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:d,maskStrokeColor:c,maskStrokeWidth:u,position:p="bottom-right",onClick:m,onNodeClick:g,pannable:x=!1,zoomable:y=!1,ariaLabel:v,inversePan:b,zoomStep:w=1,offsetScale:N=5}){let _=nD(),j=(0,f.useRef)(null),{boundingRect:S,viewBB:C,rfId:k,panZoom:M,translateExtent:A,flowWidth:E,flowHeight:P,ariaLabelConfig:I}=nR(rJ,nE),$=e?.width??200,R=e?.height??150,D=Math.max(S.width/$,S.height/R),O=D*$,z=D*R,L=N*D,B=S.x-(O-S.width)/2-L,H=S.y-(z-S.height)/2-L,T=O+2*L,V=z+2*L,F=`react-flow__minimap-desc-${k}`,q=(0,f.useRef)(0),X=(0,f.useRef)();q.current=D;let Y=m?e=>{let[t,n]=X.current?.pointer(e)||[0,0];m(e,{x:t,y:n})}:void 0,Z=g?(0,f.useCallback)((e,t)=>{g(e,_.getState().nodeLookup.get(t).internals.userNode)},[]):void 0,W=v??I["minimap.ariaLabel"];return(0,h.jsx)(nq,{position:p,style:{...e,"--xy-minimap-background-color-props":"string"==typeof l?l:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof d?d:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof c?c:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof u?u*D:void 0,"--xy-minimap-node-background-color-props":"string"==typeof o?o:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof a?a:void 0},className:nb(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,h.jsxs)("svg",{width:$,height:R,viewBox:`${B} ${H} ${T} ${V}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":F,ref:j,onClick:Y,children:[W&&(0,h.jsx)("title",{id:F,children:W}),(0,h.jsx)(rQ,{onClick:Z,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:r,nodeStrokeWidth:a,nodeComponent:s}),(0,h.jsx)("path",{className:"react-flow__minimap-mask",d:`M${B-L},${H-L}h${T+2*L}v${V+2*L}h${-T-2*L}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}r0.displayName="MiniMap";let r1=(0,f.memo)(r0);c.Line,c.Handle,n(71763);var r2=n(1372);let r3=(0,_.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var r4=n(44195);let r5=(0,f.memo)(function({data:e}){let{content:t,isStart:n,isSelected:o}=e;return(0,h.jsxs)("div",{className:(0,r4.cn)("rounded-lg border-2 bg-white p-4 shadow-sm transition-shadow min-w-[200px] max-w-[280px]",o?"border-blue-500 shadow-md":"border-blue-200",n&&"ring-2 ring-green-500 ring-offset-2"),children:[(0,h.jsx)(oA,{type:"target",position:d.Top,className:"!bg-blue-500 !w-3 !h-3"}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,h.jsx)("div",{className:"rounded-md bg-blue-100 p-1.5",children:(0,h.jsx)(r2.A,{className:"h-4 w-4 text-blue-600"})}),(0,h.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Message"}),n&&(0,h.jsx)(r3,{className:"h-3 w-3 text-green-500 fill-green-500 ml-auto"})]}),(0,h.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3",children:t||"Click to edit message..."}),(0,h.jsx)(oA,{type:"source",position:d.Bottom,className:"!bg-blue-500 !w-3 !h-3"})]})}),r6=(0,_.A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),r7=(0,f.memo)(function({data:e}){let{content:t,quick_replies:n,isStart:o,isSelected:r}=e;return(0,h.jsxs)("div",{className:(0,r4.cn)("rounded-lg border-2 bg-white p-4 shadow-sm transition-shadow min-w-[200px] max-w-[280px]",r?"border-purple-500 shadow-md":"border-purple-200",o&&"ring-2 ring-green-500 ring-offset-2"),children:[(0,h.jsx)(oA,{type:"target",position:d.Top,className:"!bg-purple-500 !w-3 !h-3"}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,h.jsx)("div",{className:"rounded-md bg-purple-100 p-1.5",children:(0,h.jsx)(r6,{className:"h-4 w-4 text-purple-600"})}),(0,h.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"Question"}),o&&(0,h.jsx)(r3,{className:"h-3 w-3 text-green-500 fill-green-500 ml-auto"})]}),(0,h.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:t||"Click to edit question..."}),n&&n.length>0&&(0,h.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[n.slice(0,3).map(e=>(0,h.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs bg-purple-50 text-purple-700 rounded-full border border-purple-200",children:e.title},e.id)),n.length>3&&(0,h.jsxs)("span",{className:"text-xs text-gray-400",children:["+",n.length-3," more"]})]}),(0,h.jsx)(oA,{type:"source",position:d.Bottom,className:"!bg-purple-500 !w-3 !h-3"})]})});var r9=n(26814);let r8=(0,f.memo)(function({data:e}){let{content:t,transitions:n,isStart:o,isSelected:r}=e;return(0,h.jsxs)("div",{className:(0,r4.cn)("rounded-lg border-2 bg-white p-4 shadow-sm transition-shadow min-w-[200px] max-w-[280px]",r?"border-amber-500 shadow-md":"border-amber-200",o&&"ring-2 ring-green-500 ring-offset-2"),children:[(0,h.jsx)(oA,{type:"target",position:d.Top,className:"!bg-amber-500 !w-3 !h-3"}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,h.jsx)("div",{className:"rounded-md bg-amber-100 p-1.5",children:(0,h.jsx)(r9.A,{className:"h-4 w-4 text-amber-600"})}),(0,h.jsx)("span",{className:"text-sm font-medium text-amber-700",children:"Condition"}),o&&(0,h.jsx)(r3,{className:"h-3 w-3 text-green-500 fill-green-500 ml-auto"})]}),(0,h.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:t||"Click to edit condition..."}),n&&n.length>0&&(0,h.jsxs)("div",{className:"text-xs text-gray-400 mt-2",children:[n.length," ",1===n.length?"branch":"branches"]}),(0,h.jsx)(oA,{type:"source",position:d.Bottom,className:"!bg-amber-500 !w-3 !h-3"})]})}),ie=(0,_.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),it=(0,_.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var io=n(61594),ir=n(26658),ii=n(74464);let ia={tag:(0,h.jsx)(ie,{className:"h-3 w-3"}),assign:(0,h.jsx)(it,{className:"h-3 w-3"}),escalate:(0,h.jsx)(io.A,{className:"h-3 w-3"}),set_entity:(0,h.jsx)(ir.A,{className:"h-3 w-3"}),http_call:(0,h.jsx)(ii.A,{className:"h-3 w-3"})},is={tag:"Add Tag",assign:"Assign",escalate:"Escalate",set_entity:"Set Entity",http_call:"HTTP Call"},il=(0,f.memo)(function({data:e}){let{content:t,actions:n,isStart:o,isSelected:r}=e;return(0,h.jsxs)("div",{className:(0,r4.cn)("rounded-lg border-2 bg-white p-4 shadow-sm transition-shadow min-w-[200px] max-w-[280px]",r?"border-emerald-500 shadow-md":"border-emerald-200",o&&"ring-2 ring-green-500 ring-offset-2"),children:[(0,h.jsx)(oA,{type:"target",position:d.Top,className:"!bg-emerald-500 !w-3 !h-3"}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,h.jsx)("div",{className:"rounded-md bg-emerald-100 p-1.5",children:(0,h.jsx)(ir.A,{className:"h-4 w-4 text-emerald-600"})}),(0,h.jsx)("span",{className:"text-sm font-medium text-emerald-700",children:"Action"}),o&&(0,h.jsx)(r3,{className:"h-3 w-3 text-green-500 fill-green-500 ml-auto"})]}),t&&(0,h.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:t}),n&&n.length>0&&(0,h.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:n.map((e,t)=>(0,h.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-emerald-50 text-emerald-700 rounded-full border border-emerald-200",children:[ia[e.type],is[e.type]]},t))}),(0,h.jsx)(oA,{type:"source",position:d.Bottom,className:"!bg-emerald-500 !w-3 !h-3"})]})}),id=(0,_.A)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),ic={message:r5,question:r7,condition:r8,action:il,end:(0,f.memo)(function({data:e}){let{isSelected:t}=e;return(0,h.jsxs)("div",{className:(0,r4.cn)("rounded-lg border-2 bg-white p-4 shadow-sm transition-shadow min-w-[120px]",t?"border-red-500 shadow-md":"border-red-200"),children:[(0,h.jsx)(oA,{type:"target",position:d.Top,className:"!bg-red-500 !w-3 !h-3"}),(0,h.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,h.jsx)("div",{className:"rounded-md bg-red-100 p-1.5",children:(0,h.jsx)(id,{className:"h-4 w-4 text-red-600"})}),(0,h.jsx)("span",{className:"text-sm font-medium text-red-700",children:"End"})]})]})})};function iu({nodes:e,startNodeId:t,selectedNodeId:n,onNodesChange:o,onNodeSelect:r}){let i=(0,f.useMemo)(()=>e.map(e=>{var o,r;return o=e.id===t,r=e.id===n,{id:e.id,type:e.type,position:e.position||{x:0,y:0},data:{...e,isStart:o,isSelected:r},selected:r}}),[e,t,n]),a=(0,f.useMemo)(()=>(function(e){let t=[];return e.forEach(e=>{e.transitions.forEach((n,o)=>{t.push({id:`${e.id}-${n.to_node_id}-${o}`,source:e.id,target:n.to_node_id,label:"default"!==n.condition?n.value||n.condition:void 0,markerEnd:{type:l.ArrowClosed,width:20,height:20},style:{strokeWidth:2},labelStyle:{fontSize:12,fontWeight:500},labelBgStyle:{fill:"#fff",fillOpacity:.9}})})}),t})(e),[e]),[s,d,c]=function(e){let[t,n]=(0,f.useState)(e),o=(0,f.useCallback)(e=>n(t=>n7(e,t)),[]);return[t,n,o]}(i),[u,p,m]=function(e){let[t,n]=(0,f.useState)(e),o=(0,f.useCallback)(e=>n(t=>n7(e,t)),[]);return[t,n,o]}(a);(0,f.useMemo)(()=>{d(i)},[i,d]),(0,f.useMemo)(()=>{p(a)},[a,p]);let g=(0,f.useCallback)(t=>{c(t),t.filter(e=>"position"===e.type&&!1===e.dragging).length>0&&setTimeout(()=>{let t=function(e,t){let n=new Map;return t.forEach(e=>{e.position&&n.set(e.id,e.position)}),e.map(e=>{let t=n.get(e.id);return t?{...e,position:t}:e})}(e,s);JSON.stringify(t)!==JSON.stringify(e)&&o(t)},0)},[c,e,s,o]),x=(0,f.useCallback)(e=>{m(e)},[m]),y=(0,f.useCallback)(t=>{t.source&&t.target&&o(e.map(e=>e.id===t.source?e.transitions.some(e=>e.to_node_id===t.target)?e:{...e,transitions:[...e.transitions,{id:`trans-${Date.now()}`,to_node_id:t.target,condition:"default"}]}:e))},[e,o]),v=(0,f.useCallback)((e,t)=>{r(t.id)},[r]),b=(0,f.useCallback)(()=>{r(null)},[r]);return(0,h.jsx)("div",{className:"h-full w-full",children:(0,h.jsxs)(rP,{nodes:s,edges:u,onNodesChange:g,onEdgesChange:x,onConnect:y,onNodeClick:v,onPaneClick:b,nodeTypes:ic,fitView:!0,snapToGrid:!0,snapGrid:[15,15],defaultEdgeOptions:{type:"smoothstep"},proOptions:{hideAttribution:!0},children:[(0,h.jsx)(rz,{gap:15,size:1}),(0,h.jsx)(rY,{}),(0,h.jsx)(r1,{nodeStrokeColor:e=>e.data?.isStart?"#22c55e":"end"===e.type?"#ef4444":"#64748b",nodeColor:e=>e.data?.isStart?"#dcfce7":"end"===e.type?"#fee2e2":"#f1f5f9",nodeBorderRadius:8})]})})}var ih=n(44269),ip=n(18741),im=n(49656),ig=n(77722),ix=n(52628),iy=n(75002),iv=n(93732),ib=n(32323),iw=n(37637);let iN={message:{icon:(0,h.jsx)(r2.A,{className:"h-4 w-4"}),label:"Message"},question:{icon:(0,h.jsx)(r6,{className:"h-4 w-4"}),label:"Question"},condition:{icon:(0,h.jsx)(r9.A,{className:"h-4 w-4"}),label:"Condition"},action:{icon:(0,h.jsx)(ir.A,{className:"h-4 w-4"}),label:"Action"},end:{icon:(0,h.jsx)(id,{className:"h-4 w-4"}),label:"End"}},i_=[{value:"tag",label:"Add Tag"},{value:"assign",label:"Assign to User"},{value:"escalate",label:"Escalate"},{value:"set_entity",label:"Set Entity"},{value:"http_call",label:"HTTP Call"}],ij=[{value:"default",label:"Default (always)"},{value:"reply_equals",label:"Reply equals"},{value:"contains",label:"Contains"},{value:"regex",label:"Regex match"}];function iS({node:e,allNodes:t,onUpdate:n,onDelete:o,onClose:r}){let[i,a]=(0,f.useState)(e),s=e=>{let t={...i,...e};a(t),n(t)},l=(e,t)=>{let n=[...i.quick_replies||[]];n[e]={...n[e],...t},s({quick_replies:n})},d=e=>{let t=[...i.quick_replies||[]];t.splice(e,1),s({quick_replies:t})},c=(e,t)=>{let n=[...i.transitions];n[e]={...n[e],...t},s({transitions:n})},u=e=>{let t=[...i.transitions];t.splice(e,1),s({transitions:t})},p=(e,t)=>{let n=[...i.actions||[]];n[e]={...n[e],...t},s({actions:n})},m=e=>{let t=[...i.actions||[]];t.splice(e,1),s({actions:t})},g=t.filter(t=>t.id!==e.id),x=iN[i.type];return(0,h.jsxs)("div",{className:"w-80 border-l bg-background flex flex-col",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[x.icon,(0,h.jsxs)("span",{className:"font-medium",children:[x.label," Node"]})]}),(0,h.jsx)(S.$,{variant:"ghost",size:"icon",onClick:r,children:(0,h.jsx)(ih.A,{className:"h-4 w-4"})})]}),(0,h.jsx)(iw.F,{className:"flex-1",children:(0,h.jsxs)("div",{className:"p-4 space-y-6",children:[(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsx)(ix.J,{className:"text-muted-foreground text-xs",children:"Node ID"}),(0,h.jsx)("code",{className:"text-xs bg-muted px-2 py-1 rounded block",children:i.id})]}),"end"!==i.type&&(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsx)(ix.J,{htmlFor:"content",children:"Content"}),(0,h.jsx)(iy.T,{id:"content",value:i.content,onChange:e=>s({content:e.target.value}),placeholder:"Enter message content...",rows:3})]}),"question"===i.type&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ib.w,{}),(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(ix.J,{children:"Quick Replies"}),(0,h.jsxs)(S.$,{variant:"outline",size:"sm",onClick:()=>{let e={id:`reply-${Date.now()}`,title:"New option"};s({quick_replies:[...i.quick_replies||[],e]})},children:[(0,h.jsx)(ip.A,{className:"h-3 w-3 mr-1"}),"Add"]})]}),i.quick_replies?.map((e,t)=>h.jsxs("div",{className:"flex gap-2",children:[h.jsx(ig.p,{value:e.title,onChange:e=>l(t,{title:e.target.value}),placeholder:"Button text",className:"flex-1"}),h.jsx(S.$,{variant:"ghost",size:"icon",onClick:()=>d(t),children:h.jsx(im.A,{className:"h-3 w-3 text-destructive"})})]},e.id))]})]}),"action"===i.type&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ib.w,{}),(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(ix.J,{children:"Actions"}),(0,h.jsxs)(S.$,{variant:"outline",size:"sm",onClick:()=>{s({actions:[...i.actions||[],{type:"tag",config:{}}]})},children:[(0,h.jsx)(ip.A,{className:"h-3 w-3 mr-1"}),"Add"]})]}),i.actions?.map((e,t)=>h.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(iv.l6,{value:e.type,onValueChange:e=>p(t,{type:e}),children:[h.jsx(iv.bq,{className:"flex-1",children:h.jsx(iv.yv,{})}),h.jsx(iv.gC,{children:i_.map(e=>h.jsx(iv.eb,{value:e.value,children:e.label},e.value))})]}),h.jsx(S.$,{variant:"ghost",size:"icon",onClick:()=>m(t),children:h.jsx(im.A,{className:"h-3 w-3 text-destructive"})})]}),"tag"===e.type&&h.jsx(ig.p,{value:e.config.tag||"",onChange:n=>p(t,{config:{...e.config,tag:n.target.value}}),placeholder:"Tag name"}),"escalate"===e.type&&h.jsxs(iv.l6,{value:e.config.priority||"normal",onValueChange:n=>p(t,{config:{...e.config,priority:n}}),children:[h.jsx(iv.bq,{children:h.jsx(iv.yv,{placeholder:"Priority"})}),h.jsxs(iv.gC,{children:[h.jsx(iv.eb,{value:"low",children:"Low"}),h.jsx(iv.eb,{value:"normal",children:"Normal"}),h.jsx(iv.eb,{value:"high",children:"High"}),h.jsx(iv.eb,{value:"urgent",children:"Urgent"})]})]})]},t))]})]}),"end"!==i.type&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ib.w,{}),(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(ix.J,{children:"Transitions"}),(0,h.jsxs)(S.$,{variant:"outline",size:"sm",onClick:()=>{let e={id:`trans-${Date.now()}`,to_node_id:"",condition:"default"};s({transitions:[...i.transitions,e]})},children:[(0,h.jsx)(ip.A,{className:"h-3 w-3 mr-1"}),"Add"]})]}),i.transitions.map((e,t)=>(0,h.jsxs)("div",{className:"space-y-2 p-3 border rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsxs)(iv.l6,{value:e.to_node_id||"",onValueChange:e=>c(t,{to_node_id:e}),children:[(0,h.jsx)(iv.bq,{className:"flex-1",children:(0,h.jsx)(iv.yv,{placeholder:"Select target node"})}),(0,h.jsx)(iv.gC,{children:g.map(e=>(0,h.jsxs)(iv.eb,{value:e.id,children:[e.type,": ",e.content?.substring(0,20)||e.id]},e.id))})]}),(0,h.jsx)(S.$,{variant:"ghost",size:"icon",onClick:()=>u(t),children:(0,h.jsx)(im.A,{className:"h-3 w-3 text-destructive"})})]}),(0,h.jsxs)(iv.l6,{value:e.condition,onValueChange:e=>c(t,{condition:e}),children:[(0,h.jsx)(iv.bq,{children:(0,h.jsx)(iv.yv,{})}),(0,h.jsx)(iv.gC,{children:ij.map(e=>(0,h.jsx)(iv.eb,{value:e.value,children:e.label},e.value))})]}),"default"!==e.condition&&(0,h.jsx)(ig.p,{value:e.value||"",onChange:e=>c(t,{value:e.target.value}),placeholder:"Match value"})]},e.id)),0===i.transitions.length&&(0,h.jsx)("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No transitions. Add one or connect nodes on the canvas."})]})]})]})}),(0,h.jsx)("div",{className:"p-4 border-t",children:(0,h.jsxs)(S.$,{variant:"destructive",className:"w-full",onClick:o,children:[(0,h.jsx)(im.A,{className:"h-4 w-4 mr-2"}),"Delete Node"]})})]})}var iC=n(50236);let ik=(0,_.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var iM=n(87798),iA=n(15607),iE=n(31629),iP=n(21643);let iI=iE.bL;iE.l9,iE.bm;let i$=iE.ZL,iR=f.forwardRef(({className:e,...t},n)=>(0,h.jsx)(iE.hJ,{className:(0,r4.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));iR.displayName=iE.hJ.displayName;let iD=(0,iP.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),iO=f.forwardRef(({side:e="right",className:t,children:n,...o},r)=>(0,h.jsxs)(i$,{children:[(0,h.jsx)(iR,{}),(0,h.jsxs)(iE.UC,{ref:r,className:(0,r4.cn)(iD({side:e}),t),...o,children:[(0,h.jsxs)(iE.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,h.jsx)(ih.A,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"sr-only",children:"Close"})]}),n]})]}));iO.displayName=iE.UC.displayName;let iz=({className:e,...t})=>(0,h.jsx)("div",{className:(0,r4.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});iz.displayName="SheetHeader";let iL=f.forwardRef(({className:e,...t},n)=>(0,h.jsx)(iE.hE,{ref:n,className:(0,r4.cn)("text-lg font-semibold text-foreground",e),...t}));function iB({flowId:e,open:t,onOpenChange:n}){let[o,r]=(0,f.useState)([]),[i,a]=(0,f.useState)(""),[s,l]=(0,f.useState)(null),[d,c]=(0,f.useState)(!1),u=(0,f.useRef)(null),p=(0,x.n)({mutationFn:t=>M.FH.post(`/flows/${e}/test`,{inputs:t}),onSuccess:e=>{let t=e.results||[],n=[];t.forEach(e=>{e.content&&n.push({id:`bot-${Date.now()}-${Math.random()}`,type:"bot",content:e.content,quickReplies:e.quick_replies,nodeId:e.node_id,timestamp:new Date}),l(e.next_node_id||null),c(e.flow_ended)}),r(e=>[...e,...n])}}),m=e=>{let t=e||i.trim();t&&!d&&(r(e=>[...e,{id:`user-${Date.now()}`,type:"user",content:t,timestamp:new Date}]),a(""),p.mutate([t]))},g=e=>{m(e.value||e.title)},y=()=>{r([]),l(null),c(!1),p.mutate([""])};return(0,h.jsx)(iI,{open:t,onOpenChange:n,children:(0,h.jsxs)(iO,{className:"w-[400px] sm:w-[450px] flex flex-col p-0",children:[(0,h.jsxs)(iz,{className:"p-4 border-b",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)(iL,{className:"flex items-center gap-2",children:[(0,h.jsx)(iC.A,{className:"h-5 w-5"}),"Test Flow"]}),(0,h.jsx)("div",{className:"flex items-center gap-2",children:(0,h.jsxs)(S.$,{variant:"outline",size:"sm",onClick:y,children:[(0,h.jsx)(ik,{className:"h-3 w-3 mr-1"}),"Reset"]})})]}),s&&(0,h.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,h.jsx)("span",{children:"Current node:"}),(0,h.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:s})]})]}),(0,h.jsx)(iw.F,{className:"flex-1 p-4",ref:u,children:(0,h.jsxs)("div",{className:"space-y-4",children:[o.map(e=>(0,h.jsx)("div",{className:`flex ${"user"===e.type?"justify-end":"justify-start"}`,children:(0,h.jsxs)("div",{className:`max-w-[80%] rounded-lg p-3 ${"user"===e.type?"bg-primary text-primary-foreground":"bg-muted"}`,children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:["bot"===e.type?(0,h.jsx)(iC.A,{className:"h-3 w-3"}):(0,h.jsx)(iM.A,{className:"h-3 w-3"}),(0,h.jsx)("span",{className:"text-xs opacity-70",children:"bot"===e.type?"Bot":"You"}),e.nodeId&&(0,h.jsx)(C.E,{variant:"outline",className:"text-[10px] h-4",children:e.nodeId})]}),(0,h.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),e.quickReplies&&e.quickReplies.length>0&&(0,h.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.quickReplies.map(e=>(0,h.jsx)(S.$,{variant:"secondary",size:"sm",className:"h-7 text-xs",onClick:()=>g(e),disabled:d||p.isPending,children:e.title},e.id))})]})},e.id)),p.isPending&&(0,h.jsx)("div",{className:"flex justify-start",children:(0,h.jsxs)("div",{className:"bg-muted rounded-lg p-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(iC.A,{className:"h-3 w-3"}),(0,h.jsx)("span",{className:"text-xs opacity-70",children:"Bot is typing..."})]}),(0,h.jsxs)("div",{className:"flex gap-1 mt-2",children:[(0,h.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,h.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,h.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}),d&&(0,h.jsxs)("div",{className:"text-center py-4",children:[(0,h.jsx)(C.E,{variant:"secondary",children:"Flow ended"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"The conversation flow has completed."}),(0,h.jsxs)(S.$,{variant:"outline",size:"sm",className:"mt-2",onClick:y,children:[(0,h.jsx)(ik,{className:"h-3 w-3 mr-1"}),"Start Over"]})]})]})}),(0,h.jsx)("div",{className:"p-4 border-t",children:(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)(ig.p,{value:i,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:d?"Flow ended":"Type a message...",disabled:d||p.isPending}),(0,h.jsx)(S.$,{onClick:()=>m(),disabled:!i.trim()||d||p.isPending,children:(0,h.jsx)(iA.A,{className:"h-4 w-4"})})]})})]})})}iL.displayName=iE.hE.displayName,f.forwardRef(({className:e,...t},n)=>(0,h.jsx)(iE.VY,{ref:n,className:(0,r4.cn)("text-sm text-muted-foreground",e),...t})).displayName=iE.VY.displayName;var iH=n(3271);let iT=[{type:"message",icon:(0,h.jsx)(r2.A,{className:"h-5 w-5"}),label:"Message",description:"Send a message to the user"},{type:"question",icon:(0,h.jsx)(r6,{className:"h-5 w-5"}),label:"Question",description:"Ask a question with quick reply options"},{type:"condition",icon:(0,h.jsx)(r9.A,{className:"h-5 w-5"}),label:"Condition",description:"Branch based on user response"},{type:"action",icon:(0,h.jsx)(ir.A,{className:"h-5 w-5"}),label:"Action",description:"Execute actions like tagging or escalation"},{type:"end",icon:(0,h.jsx)(id,{className:"h-5 w-5"}),label:"End",description:"End the flow"}];function iV({onAddNode:e}){return(0,h.jsx)(iH.Bc,{children:(0,h.jsxs)("div",{className:"w-16 border-r bg-muted/30 p-2 flex flex-col gap-2",children:[(0,h.jsx)("div",{className:"text-xs font-medium text-muted-foreground text-center mb-2",children:"Nodes"}),iT.map(t=>(0,h.jsxs)(iH.m_,{children:[(0,h.jsx)(iH.k$,{asChild:!0,children:(0,h.jsx)(S.$,{variant:"outline",size:"icon",className:"h-10 w-10",onClick:()=>e(t.type),children:t.icon})}),(0,h.jsxs)(iH.ZI,{side:"right",children:[(0,h.jsx)("div",{className:"text-sm font-medium",children:t.label}),(0,h.jsx)("div",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.type))]})})}function iF(){let e=(0,p.useParams)(),t=(0,p.useRouter)(),n=(0,p.useSearchParams)(),o=(0,m.jE)(),r=e.flowId,i="true"===n.get("test"),[a,s]=(0,f.useState)(null),[l,d]=(0,f.useState)([]),[c,u]=(0,f.useState)(!1),[_,E]=(0,f.useState)(i),{data:P,isLoading:I}=(0,g.I)({queryKey:A.lH.flows.detail(r),queryFn:()=>M.FH.get(`/flows/${r}`),enabled:!!r}),$=(0,x.n)({mutationFn:e=>M.FH.put(`/flows/${r}`,e),onSuccess:()=>{o.invalidateQueries({queryKey:A.lH.flows.detail(r)}),u(!1)}}),R=(0,x.n)({mutationFn:()=>P?.is_active?M.FH.post(`/flows/${r}/deactivate`):M.FH.post(`/flows/${r}/activate`),onSuccess:()=>{o.invalidateQueries({queryKey:A.lH.flows.detail(r)}),o.invalidateQueries({queryKey:A.lH.flows.all})}}),D=(0,f.useCallback)(e=>{d(e),u(!0)},[]),O=e=>{d(l.filter(t=>t.id!==e).map(t=>({...t,transitions:t.transitions.filter(t=>t.to_node_id!==e)}))),s(null),u(!0)},z=l.find(e=>e.id===a)||null;return I?(0,h.jsxs)("div",{className:"flex h-full flex-col",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsx)(k.EA,{className:"h-8 w-8"}),(0,h.jsx)(k.EA,{className:"h-6 w-48"})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)(k.EA,{className:"h-9 w-20"}),(0,h.jsx)(k.EA,{className:"h-9 w-20"})]})]}),(0,h.jsx)("div",{className:"flex-1 p-4",children:(0,h.jsx)(k.EA,{className:"h-full w-full"})})]}):P?(0,h.jsxs)("div",{className:"flex h-full flex-col",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsx)(S.$,{variant:"ghost",size:"icon",onClick:()=>t.push("/flows"),children:(0,h.jsx)(y.A,{className:"h-4 w-4"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"text-lg font-medium",children:P.name}),(0,h.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,h.jsx)(C.E,{variant:P.is_active?"default":"secondary",className:"text-xs",children:P.is_active?"Active":"Inactive"}),c&&(0,h.jsx)(C.E,{variant:"outline",className:"text-xs",children:"Unsaved changes"})]})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsxs)(S.$,{variant:"outline",size:"sm",onClick:()=>E(!0),children:[(0,h.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Test"]}),(0,h.jsxs)(S.$,{variant:"outline",size:"sm",onClick:()=>R.mutate(),disabled:R.isPending,children:[R.isPending?(0,h.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}):P.is_active?(0,h.jsx)(w.A,{className:"mr-2 h-4 w-4"}):(0,h.jsx)(N.A,{className:"mr-2 h-4 w-4"}),P.is_active?"Deactivate":"Activate"]}),(0,h.jsxs)(S.$,{size:"sm",onClick:()=>{if(!P)return;let e={nodes:l,start_node_id:P.start_node_id};$.mutate(e)},disabled:!c||$.isPending,children:[$.isPending?(0,h.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,h.jsx)(j,{className:"mr-2 h-4 w-4"}),"Save"]})]})]}),(0,h.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,h.jsx)(iV,{onAddNode:e=>{let t={id:`node-${Date.now()}`,type:e,content:"end"===e?"":"New node content...",transitions:[],position:{x:250,y:(l.length+1)*150}};"question"===e&&(t.quick_replies=[{id:"option-1",title:"Option 1"},{id:"option-2",title:"Option 2"}]),"action"===e&&(t.actions=[{type:"tag",config:{tag:"new-tag"}}]),d([...l,t]),s(t.id),u(!0)}}),(0,h.jsx)("div",{className:"flex-1",children:(0,h.jsx)(iu,{nodes:l,startNodeId:P.start_node_id,selectedNodeId:a,onNodesChange:D,onNodeSelect:e=>{s(e)}})}),z&&(0,h.jsx)(iS,{node:z,allNodes:l,onUpdate:e=>{d(l.map(t=>t.id===e.id?e:t)),u(!0)},onDelete:()=>O(z.id),onClose:()=>s(null)})]}),(0,h.jsx)(iB,{flowId:r,open:_,onOpenChange:E})]}):(0,h.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("h2",{className:"text-lg font-medium",children:"Flow not found"}),(0,h.jsx)(S.$,{variant:"link",onClick:()=>t.push("/flows"),children:"Back to flows"})]})})}},77722:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var o=n(45512),r=n(58009),i=n(21643),a=n(44195);let s=(0,i.F)("flex w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-input",terminal:"border-primary/50 bg-background font-mono focus:border-primary",error:"border-destructive focus-visible:ring-destructive"},inputSize:{default:"h-10",sm:"h-9 text-xs",lg:"h-11"}},defaultVariants:{variant:"default",inputSize:"default"}}),l=r.forwardRef(({className:e,variant:t,inputSize:n,type:r,error:i,leftIcon:l,rightIcon:d,...c},u)=>{let h=i?"error":t;return l||d?(0,o.jsxs)("div",{className:"relative",children:[l&&(0,o.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:l}),(0,o.jsx)("input",{type:r,className:(0,a.cn)(s({variant:h,inputSize:n}),l&&"pl-10",d&&"pr-10",e),ref:u,...c}),d&&(0,o.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:d})]}):(0,o.jsx)("input",{type:r,className:(0,a.cn)(s({variant:h,inputSize:n,className:e})),ref:u,...c})});l.displayName="Input"},52628:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var o=n(45512),r=n(58009),i=n(92405),a=n(21643),s=n(44195);let l=(0,a.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,required:t,children:n,...r},a)=>(0,o.jsxs)(i.b,{ref:a,className:(0,s.cn)(l(),e),...r,children:[n,t&&(0,o.jsx)("span",{className:"ml-1 text-destructive",children:"*"})]}));d.displayName=i.b.displayName},37637:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var o=n(45512),r=n(58009),i=n(77980),a=n(44195);let s=r.forwardRef(({className:e,children:t,...n},r)=>(0,o.jsxs)(i.bL,{ref:r,className:(0,a.cn)("relative overflow-hidden",e),...n,children:[(0,o.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,o.jsx)(l,{}),(0,o.jsx)(i.OK,{})]}));s.displayName=i.bL.displayName;let l=r.forwardRef(({className:e,orientation:t="vertical",...n},r)=>(0,o.jsx)(i.VM,{ref:r,orientation:t,className:(0,a.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:(0,o.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=i.VM.displayName},93732:(e,t,n)=>{"use strict";n.d(t,{bq:()=>h,eb:()=>g,gC:()=>m,l6:()=>c,yv:()=>u});var o=n(45512),r=n(58009),i=n(6625),a=n(98755),s=n(28638),l=n(24849),d=n(44195);let c=i.bL;i.YJ;let u=i.WT,h=r.forwardRef(({className:e,children:t,...n},r)=>(0,o.jsxs)(i.l9,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,(0,o.jsx)(i.In,{asChild:!0,children:(0,o.jsx)(a.A,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=i.l9.displayName;let f=r.forwardRef(({className:e,...t},n)=>(0,o.jsx)(i.PP,{ref:n,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,o.jsx)(s.A,{className:"h-4 w-4"})}));f.displayName=i.PP.displayName;let p=r.forwardRef(({className:e,...t},n)=>(0,o.jsx)(i.wn,{ref:n,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,o.jsx)(a.A,{className:"h-4 w-4"})}));p.displayName=i.wn.displayName;let m=r.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>(0,o.jsx)(i.ZL,{children:(0,o.jsxs)(i.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-card text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[(0,o.jsx)(f,{}),(0,o.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,o.jsx)(p,{})]})}));m.displayName=i.UC.displayName,r.forwardRef(({className:e,...t},n)=>(0,o.jsx)(i.JU,{ref:n,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let g=r.forwardRef(({className:e,children:t,...n},r)=>(0,o.jsxs)(i.q7,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(i.VF,{children:(0,o.jsx)(l.A,{className:"h-4 w-4"})})}),(0,o.jsx)(i.p4,{children:t})]}));g.displayName=i.q7.displayName,r.forwardRef(({className:e,...t},n)=>(0,o.jsx)(i.wv,{ref:n,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},97093:(e,t,n)=>{"use strict";n.d(t,{EA:()=>i});var o=n(45512),r=n(44195);function i({className:e,...t}){return(0,o.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...t})}},75002:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var o=n(45512),r=n(58009),i=n(44195);let a=r.forwardRef(({className:e,...t},n)=>(0,o.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));a.displayName="Textarea"},7477:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});let o=(0,n(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/flows/[flowId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/edsonmartins/desenvolvimento/linktor/web/admin/src/app/(dashboard)/flows/[flowId]/page.tsx","default")},71763:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),o=t.X(0,[705,881,904,115,697,980,962,836,347,660,359],()=>n(43355));module.exports=o})();