<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
    <linearGradient id="appGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="domainGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="adapterGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="infraGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#64748b"/>
      <stop offset="100%" style="stop-color:#475569"/>
    </linearGradient>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="700" fill="#f8fafc"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-size="22" font-weight="bold" fill="#1e293b">Linktor Architecture</text>
  <text x="450" y="55" text-anchor="middle" font-size="12" fill="#64748b">Hexagonal Architecture (Ports &amp; Adapters)</text>

  <!-- External Clients Box -->
  <rect x="50" y="75" width="800" height="60" rx="8" fill="url(#headerGrad)" filter="url(#shadow)"/>
  <text x="450" y="100" text-anchor="middle" font-size="14" font-weight="600" fill="white">EXTERNAL CLIENTS</text>
  <text x="450" y="120" text-anchor="middle" font-size="11" fill="rgba(255,255,255,0.85)">Admin Dashboard • Mobile Apps • Embeddable Widget • External Systems</text>

  <!-- Arrow down from clients -->
  <path d="M450 135 L450 155 L445 150 M450 155 L455 150" stroke="#94a3b8" stroke-width="2" fill="none"/>

  <!-- API Gateway -->
  <rect x="300" y="160" width="300" height="70" rx="8" fill="white" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>
  <text x="450" y="188" text-anchor="middle" font-size="13" font-weight="600" fill="#1e293b">API Gateway</text>
  <text x="450" y="205" text-anchor="middle" font-size="10" fill="#64748b">Gin HTTP + WebSocket</text>
  <text x="450" y="220" text-anchor="middle" font-size="10" fill="#64748b">Auth | Rate Limiting | CORS</text>

  <!-- Arrow down from gateway -->
  <path d="M450 230 L450 255" stroke="#94a3b8" stroke-width="2" fill="none"/>

  <!-- Middle section - 3 boxes -->
  <!-- Application Layer -->
  <rect x="50" y="260" width="240" height="150" rx="8" fill="url(#appGrad)" filter="url(#shadow)"/>
  <text x="170" y="290" text-anchor="middle" font-size="13" font-weight="600" fill="white">Application Layer</text>
  <line x1="70" y1="302" x2="270" y2="302" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
  <text x="80" y="325" font-size="11" fill="rgba(255,255,255,0.9)">• Services</text>
  <text x="80" y="345" font-size="11" fill="rgba(255,255,255,0.9)">• Use Cases</text>
  <text x="80" y="365" font-size="11" fill="rgba(255,255,255,0.9)">• Handlers</text>
  <text x="80" y="385" font-size="11" fill="rgba(255,255,255,0.9)">• Flow Engine</text>

  <!-- Domain Layer -->
  <rect x="330" y="260" width="240" height="150" rx="8" fill="url(#domainGrad)" filter="url(#shadow)"/>
  <text x="450" y="290" text-anchor="middle" font-size="13" font-weight="600" fill="white">Domain Layer</text>
  <line x1="350" y1="302" x2="550" y2="302" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
  <text x="360" y="325" font-size="11" fill="rgba(255,255,255,0.9)">• Entities</text>
  <text x="360" y="345" font-size="11" fill="rgba(255,255,255,0.9)">• Repositories (Interfaces)</text>
  <text x="360" y="365" font-size="11" fill="rgba(255,255,255,0.9)">• Value Objects</text>
  <text x="360" y="385" font-size="11" fill="rgba(255,255,255,0.9)">• Business Rules</text>

  <!-- Adapters Layer -->
  <rect x="610" y="260" width="240" height="150" rx="8" fill="url(#adapterGrad)" filter="url(#shadow)"/>
  <text x="730" y="290" text-anchor="middle" font-size="13" font-weight="600" fill="white">Adapters</text>
  <line x1="630" y1="302" x2="830" y2="302" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
  <text x="620" y="325" font-size="11" fill="rgba(255,255,255,0.9)">• WhatsApp Official</text>
  <text x="620" y="345" font-size="11" fill="rgba(255,255,255,0.9)">• Telegram • WebChat</text>
  <text x="620" y="365" font-size="11" fill="rgba(255,255,255,0.9)">• OpenAI • Anthropic</text>
  <text x="620" y="385" font-size="11" fill="rgba(255,255,255,0.9)">• Ollama (Local LLMs)</text>

  <!-- Bidirectional arrows between layers -->
  <path d="M290 335 L330 335" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M330 335 L290 335" stroke="#94a3b8" stroke-width="2" fill="none"/>
  <path d="M570 335 L610 335" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M610 335 L570 335" stroke="#94a3b8" stroke-width="2" fill="none"/>

  <!-- Double arrow markers -->
  <polygon points="290,335 300,330 300,340" fill="#94a3b8"/>
  <polygon points="330,335 320,330 320,340" fill="#94a3b8"/>
  <polygon points="570,335 580,330 580,340" fill="#94a3b8"/>
  <polygon points="610,335 600,330 600,340" fill="#94a3b8"/>

  <!-- Arrow down to infrastructure -->
  <path d="M450 410 L450 440" stroke="#94a3b8" stroke-width="2" fill="none"/>
  <polygon points="450,440 445,430 455,430" fill="#94a3b8"/>

  <!-- Infrastructure section -->
  <rect x="50" y="450" width="800" height="35" rx="6" fill="#f1f5f9" stroke="#e2e8f0"/>
  <text x="450" y="472" text-anchor="middle" font-size="12" font-weight="600" fill="#475569">INFRASTRUCTURE</text>

  <!-- Infrastructure boxes -->
  <!-- PostgreSQL -->
  <rect x="50" y="500" width="240" height="90" rx="8" fill="url(#infraGrad)" filter="url(#shadow)"/>
  <text x="170" y="530" text-anchor="middle" font-size="13" font-weight="600" fill="white">PostgreSQL</text>
  <text x="170" y="550" text-anchor="middle" font-size="11" fill="rgba(255,255,255,0.85)">+ pgvector</text>
  <text x="170" y="575" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.7)">Primary Database</text>
  <text x="170" y="588" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.7)">Semantic Search</text>

  <!-- Redis -->
  <rect x="330" y="500" width="240" height="90" rx="8" fill="url(#infraGrad)" filter="url(#shadow)"/>
  <text x="450" y="530" text-anchor="middle" font-size="13" font-weight="600" fill="white">Redis</text>
  <text x="450" y="550" text-anchor="middle" font-size="11" fill="rgba(255,255,255,0.85)">Cache Layer</text>
  <text x="450" y="575" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.7)">Session Storage</text>
  <text x="450" y="588" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.7)">Real-time Pub/Sub</text>

  <!-- NATS -->
  <rect x="610" y="500" width="240" height="90" rx="8" fill="url(#infraGrad)" filter="url(#shadow)"/>
  <text x="730" y="530" text-anchor="middle" font-size="13" font-weight="600" fill="white">NATS JetStream</text>
  <text x="730" y="550" text-anchor="middle" font-size="11" fill="rgba(255,255,255,0.85)">Message Broker</text>
  <text x="730" y="575" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.7)">Async Processing</text>
  <text x="730" y="588" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.7)">Event Streaming</text>

  <!-- MinIO -->
  <rect x="330" y="610" width="240" height="70" rx="8" fill="url(#infraGrad)" filter="url(#shadow)"/>
  <text x="450" y="640" text-anchor="middle" font-size="13" font-weight="600" fill="white">MinIO</text>
  <text x="450" y="660" text-anchor="middle" font-size="11" fill="rgba(255,255,255,0.85)">Object Storage (S3-compatible)</text>

  <!-- Legend -->
  <rect x="680" y="620" width="160" height="60" rx="6" fill="white" stroke="#e2e8f0"/>
  <text x="760" y="638" text-anchor="middle" font-size="10" font-weight="600" fill="#64748b">LEGEND</text>
  <rect x="690" y="648" width="12" height="12" rx="2" fill="url(#appGrad)"/>
  <text x="708" y="658" font-size="9" fill="#64748b">Application</text>
  <rect x="760" y="648" width="12" height="12" rx="2" fill="url(#domainGrad)"/>
  <text x="778" y="658" font-size="9" fill="#64748b">Domain</text>
  <rect x="690" y="665" width="12" height="12" rx="2" fill="url(#adapterGrad)"/>
  <text x="708" y="675" font-size="9" fill="#64748b">Adapters</text>
  <rect x="760" y="665" width="12" height="12" rx="2" fill="url(#infraGrad)"/>
  <text x="778" y="675" font-size="9" fill="#64748b">Infra</text>
</svg>
